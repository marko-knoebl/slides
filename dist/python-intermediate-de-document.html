<h1>Python Intermediate</h1>
<h2>Themen</h2>
<ul>
<li>Datentypen vertieft
<ul>
<li>Strings und String-Verarbeitung</li>
<li>Bytes</li>
<li>Sequenzen</li>
</ul>
</li>
<li>objektorientiertes Programmieren und Klassen</li>
<li>fortgeschrittene Kontrollstrukturen</li>
<li>Erstellen von Listen und Dictionaries mittels Comprehensions</li>
<li>Exceptions</li>
<li>Module und Pakete</li>
<li>Paketmanagement in Python</li>
</ul>
<h1>Datentypen in Python</h1>
<h2>Grundlegende Datentypen</h2>
<ul>
<li>int</li>
<li>float</li>
<li>bool</li>
<li>NoneType</li>
<li>string</li>
</ul>
<h2>Kollektionen</h2>
<ul>
<li>list</li>
<li>tuple</li>
<li>dict</li>
</ul>
<h2>Weitere Datentypen</h2>
<ul>
<li>decimal</li>
<li>complex</li>
<li>bytes, bytearray</li>
<li>set, frozenset</li>
<li>NamedTuple</li>
<li>...</li>
</ul>
<h1>None</h1>
<h2>None</h2>
<p><code>None</code> ist ein Singleton:</p>
<ul>
<li>es gibt immer nur ein <code>None</code>-Objekt innerhalb eines laufenden Python-Programms</li>
<li>mehrere Variablen k√∂nnen auf dieses Objekt verweisen</li>
</ul>
<h2>Vergleich mit "is"</h2>
<p>Das Schl√ºsselwort <code>is</code> vergleicht in Python, ob sich zwei Referenzen / Namen auf das gleiche Objekt beziehen.</p>
<pre><code class="hljs language-py">a = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>]
b = a
x = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>]

a == b <span class="hljs-comment"># True</span>
a <span class="hljs-keyword">is</span> b <span class="hljs-comment"># True</span>
a == x <span class="hljs-comment"># True</span>
a <span class="hljs-keyword">is</span> x <span class="hljs-comment"># False</span>
</code></pre>
<h2>Vergleich mit "is"</h2>
<p>Nachdem <code>None</code> ein Singleton ist, kann darauf mit <code>is None</code> getestet werden.</p>
<pre><code class="hljs language-py"><span class="hljs-keyword">if</span> a <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:
    ...
</code></pre>
<h1>bool</h1>
<h2>bool</h2>
<p><code>True</code> oder <code>False</code></p>
<pre><code class="hljs language-py">a = <span class="hljs-literal">True</span>
<span class="hljs-keyword">if</span> a:
    print(<span class="hljs-string">'hello'</span>)
</code></pre>
<h2>bool</h2>
<p>Intern verh√§lt sich <code>False</code> fast wie <code>0</code> und <code>True</code> fast wie <code>1</code></p>
<pre><code class="hljs language-py"><span class="hljs-literal">False</span> + <span class="hljs-literal">True</span> <span class="hljs-comment"># 1</span>
</code></pre>
<h1>Zahlen</h1>
<h2>Weitere Operationen mit Zahlen</h2>
<ul>
<li>Division mit Rest: <code>10 // 3</code></li>
<li>Divisionsrest / Modulo: <code>10 % 3</code></li>
<li>Potenzieren: <code>2 ** 3</code></li>
</ul>
<h2>Unterstriche in Literalen</h2>
<p>um uns beim Lesen langer Zahlen zu helfen:</p>
<pre><code class="hljs language-py">earth_circumference = <span class="hljs-number">40075017</span>
earth_circumference = <span class="hljs-number">40_075_017</span>
</code></pre>
<h2>int</h2>
<p>beliebig gro√üe Ganzzahlen</p>
<h2>int</h2>
<p>Andere Zahlensysteme:</p>
<pre><code class="hljs language-py">a = <span class="hljs-number">42</span> <span class="hljs-comment"># decimal</span>
b = <span class="hljs-number">0b101010</span> <span class="hljs-comment"># binary</span>
c = <span class="hljs-number">0o52</span> <span class="hljs-comment"># octal</span>
d = <span class="hljs-number">0x2a</span> <span class="hljs-comment"># hexadecimal</span>
</code></pre>
<pre><code class="hljs language-py">e = <span class="hljs-built_in">int</span>(<span class="hljs-string">'101010'</span>, <span class="hljs-number">2</span>)
</code></pre>
<h2>float</h2>
<p>64-bit Gleitkommazahlen</p>
<pre><code class="hljs language-py">a = <span class="hljs-number">2.3</span>
b = <span class="hljs-number">.2</span>
c = <span class="hljs-number">6e23</span>
d = <span class="hljs-built_in">float</span>(<span class="hljs-string">'nan'</span>)
e = <span class="hljs-built_in">float</span>(<span class="hljs-string">'inf'</span>)
</code></pre>
<h2>float</h2>
<p><strong>Rundungsfehler</strong>: manche Zahlen k√∂nnen nicht als Gleitkommazahlen dargestellt werden, sie sind immer Ann√§herungen</p>
<p>Beispiele im Dezimalsystem: 1/3, 1/7, œÄ</p>
<p>Beispiele im Bin√§rsystem (<em>floats</em>): 1/10, 1/5, 1/3, œÄ</p>
<p>Beispiel: œÄ + œÄ ergibt <code>6.2</code>, wenn wir Dezimalzahlen mit 2 Stellen verwenden (besseres Ergebnis w√§re <code>6.3</code>)</p>
<p>Beispiel: <code>0.1 + 0.2</code> ergibt ~ <code>0.30000000000000004</code>, wenn wir 64-bit floats verwenden</p>
<h2>float</h2>
<pre><code class="hljs language-py"><span class="hljs-number">0.1</span> + <span class="hljs-number">0.2</span> == <span class="hljs-number">0.3</span>
<span class="hljs-comment"># False</span>
</code></pre>
<pre><code class="hljs language-py"><span class="hljs-keyword">import</span> math

math.isclose(<span class="hljs-number">0.1</span> + <span class="hljs-number">0.2</span>, <span class="hljs-number">0.3</span>)
<span class="hljs-comment"># True</span>
</code></pre>
<h2>float</h2>
<p><em>IEEE 754</em>: Standard f√ºr Gleitkommazahlen am Computer</p>
<p>wird von Python gro√üteils umgesetzt</p>
<p>Ausnahme: Python l√∂st f√ºr manche Operationen Exceptions aus, die unter dem Standard ein Ergebnis liefern w√ºrden - z.B. <code>1.0/0.0</code></p>
<p>Besondere Zahlen in IEEE 754:</p>
<ul>
<li><code>inf</code> und <code>-inf</code> (unendliche Werte)</li>
<li><code>nan</code> (not-a-number: undefinierter / unbekannter Wert)</li>
</ul>
<h2>complex</h2>
<pre><code class="hljs language-py">a = <span class="hljs-number">2</span> + <span class="hljs-number">3j</span>
</code></pre>
<h2>Erweiterte Zuweisung</h2>
<p>Zu bin√§ren Operatoren gibt es sogenannte <em>erweiterte Zuweisungen</em> (<em>augmented assignments</em>):</p>
<pre><code class="hljs language-py">a = a + <span class="hljs-number">1</span>
</code></pre>
<p>Kurzform (erweiterte Zuweisung):</p>
<pre><code class="hljs language-py">a += <span class="hljs-number">1</span>
</code></pre>
<p>Weitere Formen: <code>-=</code>, <code>*=</code>, ...</p>
<h1>Zeichenkodierung</h1>
<h2>Unicodezeichen</h2>
<p><em>Unicode</em>: Katalog von √ºber 100000 internationalen Schriftzeichen, jedes mit eindeutigem Namen und Nummer (meist in Hexadezimalform)</p>
<p>Beispiele:</p>
<ul>
<li><em>K</em>: U+004B (<em>Latin capital letter K</em>)</li>
<li><em>?</em>: U+003F (<em>Question mark</em>)</li>
<li><em>√§</em>: U+00E4 (<em>Latin small letter a with a diaeresis</em>)</li>
<li><em>‚Ç¨</em>: U+20AC (<em>Euro sign</em>)</li>
<li>üôÇ: U+1F642 (<em>Slightly smiling face</em>)</li>
</ul>
<p><a href="https://en.wikibooks.org/wiki/Unicode/Character_reference">Tabellen aller Unicodezeichen</a></p>
<h2>Zeichenkodierung</h2>
<p>Zeichenkodierung = Zuordnung von Zeichen zu Bitsequenzen</p>
<ul>
<li><em>ASCII</em>: Kodiert die ersten 128 Unicodezeichen, u.a. <em>A</em>, <em>!</em>, <em>\$</em>, <em>Leerzeichen</em>, <em>Zeilenumbruch</em></li>
<li><em>Latin1</em>: Kodiert die ersten 256 Unicodezeichen, u.a. <em>√§</em>, <em>√°</em>, <em>√ü</em>, <em>¬ß</em></li>
<li><em>UTF-8</em>, <em>UTF-16</em>, <em>UTF-32</em>: Kodieren alle Unicodezeichen</li>
</ul>
<p>Eine Zeichenkodierung ist notwendig, um Text auf ein Speichermedium zu schreiben oder √ºber das Netzwerk zu √ºbertragen</p>
<h2>Zeichenkodierung</h2>
<p>Beispiele in ASCII / Latin1 / UTF-8:</p>
<ul>
<li><code>!</code> ‚Üî <code>00100001</code></li>
<li><code>A</code> ‚Üî <code>01000001</code></li>
<li><code>a</code> ‚Üî <code>01100001</code></li>
</ul>
<p>Beispiele in Latin1:</p>
<ul>
<li><code>√Ñ</code> ‚Üî <code>11000100</code></li>
</ul>
<p>Beispiele in UTF-8:</p>
<ul>
<li><code>√Ñ</code> ‚Üî <code>11000011 10100100</code></li>
<li><code>üôÇ</code> ‚Üî <code>11110000 10011111 10011001 10000010</code></li>
</ul>
<h2>UTF-8</h2>
<p>UTF-8 hat sich insbesondere im Web zum Standardencoding entwickelt</p>
<p>Die ersten 128 Unicode-Zeichen ben√∂tigen nur 8 Bit (wie bei ASCII / Latin1)</p>
<p>Alle anderen Zeichen ben√∂tigen jeweils 16, 24 oder 32 Bit</p>
<h2>UTF-32</h2>
<p>UTF-32 kodiert unmittelbar die Unicode-Codepukte, wobei je nach Anwendungsbereich eine andere Bytereihenfolge (big endian oder little endian) auftreten kann.</p>
<p>Beispiel:</p>
<p>üôÇ (U+1F642) ‚Üî <code>00 01 F6 42</code> (big endian) oder <code>42 F6 01 00</code> (little endian)</p>
<h2>Zeilenumbr√ºche</h2>
<p>Zeilenumbr√ºche k√∂nnen durch die Zeichen <code>LF</code> (line feed, <code>U+000A</code>) bzw <code>CR</code> (carriage return, <code>U+000D</code>) kodiert werden</p>
<ul>
<li><code>LF</code>: Standard unter Linux, MacOS</li>
<li><code>CRLF</code>: Standard unter Windows, in Netzwerkprotokollen wie HTTP</li>
</ul>
<p>In String-Literalen wird <code>LF</code> oft durch <code>\n</code> und <code>CR</code> oft durch <code>\r</code> repr√§sentiert</p>
<h1>Strings</h1>
<h2>Strings</h2>
<p>Strings in Python sind Zeichenfolgen, die jedes Unicodezeichen repr√§sentieren k√∂nnen</p>
<h2>String-Literale</h2>
<p>Beispiele:</p>
<pre><code class="hljs language-py">a = <span class="hljs-string">"test"</span>
b = <span class="hljs-string">'test'</span>
</code></pre>
<h2>Mehrzeilige String-Literale</h2>
<pre><code class="hljs language-py">a = <span class="hljs-string">"""this
is a multi-line
string literal.
"""</span>
</code></pre>
<h2>Escape Sequenzen</h2>
<p>Mit Hilfe des Backslashes k√∂nnen besondere Zeichen eingef√ºgt werden:</p>
<pre><code class="hljs language-py">a = <span class="hljs-string">"He said:\n\"Hi!\""</span>
</code></pre>
<h2>Escape Sequenzen</h2>
<ul>
<li><code>\'</code> ‚Üí <code>'</code></li>
<li><code>\"</code> ‚Üí <code>"</code></li>
<li><code>\\</code> ‚Üí <code>\</code></li>
<li><code>\n</code> ‚Üí Line Feed (Zeilenumbruch unter Unix)</li>
<li><code>\r\n</code> ‚Üí Carriage Return + Line Feed (Zeilenumbruch unter Windows)</li>
<li><code>\t</code> ‚Üí Tab</li>
<li><code>\xHH</code> bzw. <code>\uHHHH</code> bzw. <code>\UHHHHHHHH</code> ‚Üí Unicode-Codepunkt (hexadezimal)</li>
</ul>
<h2>Raw Strings</h2>
<p>Wenn in einem String keine Escape Sequenzen ben√∂tigt werden:</p>
<pre><code class="hljs language-py">path = <span class="hljs-string">r"C:\documents\foo\news.txt"</span>
</code></pre>
<p>(besonders n√ºtzlich bei regul√§ren Ausdr√ºcken)</p>
<h2>String-Methoden</h2>
<ul>
<li><code>.lower()</code></li>
<li><code>.upper()</code></li>
</ul>
<h2>String-Methoden</h2>
<ul>
<li><code>.startswith(...)</code></li>
<li><code>.endswith(".txt")</code></li>
</ul>
<h2>String-Methoden</h2>
<ul>
<li><code>.center(10)</code></li>
<li><code>.ljust(10)</code></li>
<li><code>.rjust(10)</code></li>
</ul>
<h2>String-Methoden</h2>
<ul>
<li><code>.strip()</code></li>
<li><code>.split(' ')</code></li>
<li><code>.splitlines()</code></li>
<li><code>.join()</code></li>
</ul>
<h2>√úbung: Formatierung von Goethes Faust</h2>
<p>Quellen:</p>
<ul>
<li><a href="http://www.gutenberg.org/cache/epub/2229/pg2229.txt">http://www.gutenberg.org/cache/epub/2229/pg2229.txt</a></li>
<li><a href="http://digital.library.upenn.edu/webbin/gutbook/lookup?num=2229">http://digital.library.upenn.edu/webbin/gutbook/lookup?num=2229</a></li>
</ul>
<h2>√úbung: Faust</h2>
<p>Original:</p>
<pre><code class="hljs language-txt">  Ihr naht euch wieder, schwankende Gestalten,
  Die fr√ºh sich einst dem tr√ºben Blick gezeigt.
</code></pre>
<p>Ziel:</p>
<pre><code class="hljs language-txt">Ihr naht euch wieder, schwankende Gestalten,               1
Die fr√ºh sich einst dem tr√ºben Blick gezeigt.              2
</code></pre>
<h2>√úbung: Faust</h2>
<p>Aufgaben:</p>
<ul>
<li>Ausrichtung der Zeilennummern basierend auf der L√§nge der l√§ngsten Zeile</li>
<li>Zeilennummern nur alle 5 Zeilen</li>
<li>Zeilennummern alle 5 Zeilen, wenn die Zeile Text enth√§lt - ansonsten in der n√§chsten Zeile</li>
</ul>
<h1>String-Formatierung</h1>
<h2>String-Formatierung</h2>
<p>String-Formatierung = Einsetzen von Werten in Strings</p>
<p>M√∂glichkeiten:</p>
<pre><code class="hljs language-py">greeting = <span class="hljs-string">"Hello, "</span> + name + <span class="hljs-string">"!"</span>
</code></pre>
<pre><code class="hljs language-py">greeting = <span class="hljs-string">f"Hello, <span class="hljs-subst">{name}</span>!"</span>
</code></pre>
<h2>String-Formatierung: M√∂glichkeiten</h2>
<pre><code class="hljs language-py">city = <span class="hljs-string">'Vienna'</span>
temperature = <span class="hljs-number">23.7</span>

<span class="hljs-comment"># eher veraltet</span>
<span class="hljs-string">'weather in %s: %f¬∞C'</span> % (city, temperature)

<span class="hljs-string">'weather in {0}: {1}¬∞C'</span>.<span class="hljs-built_in">format</span>(city, temperature)
<span class="hljs-string">'weather in {}: {}¬∞C'</span>.<span class="hljs-built_in">format</span>(city, temperature)
<span class="hljs-string">'weather in {c}: {t}¬∞C'</span>.<span class="hljs-built_in">format</span>(c=city, t=temperature)

<span class="hljs-string">f'weather in <span class="hljs-subst">{city}</span>: <span class="hljs-subst">{temperature}</span>¬∞C'</span>
</code></pre>
<h2>Formatangaben</h2>
<ul>
<li><code>.4f</code>: vier Dezimalstellen nach dem Dezimalzeichen</li>
<li><code>.4g</code>: vier Dezimalstellen</li>
</ul>
<pre><code class="hljs language-py">print(<span class="hljs-string">f"Pi is <span class="hljs-subst">{math.pi:<span class="hljs-number">.4</span>f}</span>"</span>)
<span class="hljs-comment"># Pi is 3.1416</span>
print(<span class="hljs-string">f"Pi is <span class="hljs-subst">{math.pi:<span class="hljs-number">.4</span>g}</span>"</span>)
<span class="hljs-comment"># Pi is 3.142</span>
</code></pre>
<h2>Formatangaben</h2>
<ul>
<li><code>>8</code>: rechtsb√ºndig (Gesamtbreite 8)</li>
<li><code>^8</code>: zentriert</li>
<li><code>&#x3C;8</code>: linksb√ºndig</li>
</ul>
<pre><code class="hljs language-py">print(<span class="hljs-string">f"<span class="hljs-subst">{first_name:><span class="hljs-number">8</span>}</span>"</span>)
print(<span class="hljs-string">f"<span class="hljs-subst">{last_name:><span class="hljs-number">8</span>}</span>"</span>)
</code></pre>
<pre><code class="hljs language-txt">    John
     Doe
</code></pre>
<h2>Formatangaben</h2>
<p>Kombination:</p>
<pre><code class="hljs language-py">print(<span class="hljs-string">f"<span class="hljs-subst">{menu_item:&#x3C;<span class="hljs-number">12</span>}</span> <span class="hljs-subst">{price:><span class="hljs-number">5.2</span>}</span>$"</span>)
</code></pre>
<pre><code class="hljs language-txt">Burger        11.90$
Salad          8.90$
Fries          3.90$
</code></pre>
<h2>Formatangaben</h2>
<p>weitere Optionen:</p>
<p><a href="https://mkaz.blog/code/python-string-format-cookbook/">Python String Format Cookbook von Marcus Kazmierczak</a></p>
<h1>Listen</h1>
<h2>Listen</h2>
<p>Listen sind ver√§nderliche Sequenzen von Objekten; sie werden √ºblicherweise verwendet, um gleichartige (homogene) Eintr√§ge abzulegen</p>
<pre><code class="hljs language-py">primes = [<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">11</span>]

users = [<span class="hljs-string">"Alice"</span>, <span class="hljs-string">"Bob"</span>, <span class="hljs-string">"Charlie"</span>]
</code></pre>
<h2>Operationen auf Listen</h2>
<p>Die folgenden Operationen klappen auch bei anderen <em>Sequenzen</em> - z.B. Tupeln, Strings oder Bytes</p>
<ul>
<li>Elementzugriff (via index): <code>users[2]</code></li>
<li>Zugriff auf mehrere Elemente (Unterliste): <code>users[2:4]</code></li>
<li>Zusammensetzen: <code>users + users</code></li>
<li>Wiederholung: <code>3 * users</code></li>
<li>L√§nge: <code>len(users)</code></li>
<li>for-Schleife: <code>for user in users:</code></li>
<li>if-Abfrage: <code>if 'Tim' in users:</code></li>
</ul>
<h2>Operationen auf Listen - Mutationen</h2>
<p>Listen k√∂nnen direkt ver√§ndert werden (im Gegensatz zu Tupeln, Strings):</p>
<ul>
<li>Anh√§ngen: <code>users.append("Dan")</code></li>
<li>Einf√ºgen: <code>users.insert(2, "Max")</code></li>
<li>Letztes Element entfernen: <code>users.pop()</code></li>
<li>Ein Element anhand des Index entfernen: <code>users.pop(2)</code></li>
</ul>
<h2>Sortieren von Listen</h2>
<p>Sortierung nach Standardreihenfolge (bei Strings alphabetisch)</p>
<pre><code class="hljs language-py">l.sort()
</code></pre>
<p>Sortierung nach selbstdefinierten Reihenfolgen:</p>
<ul>
<li>nach L√§nge eines Strings</li>
<li>nach H√§ufigkeit des Buchstabens "a"</li>
</ul>
<pre><code class="hljs language-py">l.sort(key=<span class="hljs-built_in">len</span>)

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">count_a</span>(<span class="hljs-params">s</span>):</span>
    <span class="hljs-keyword">return</span> s.count(<span class="hljs-string">"a"</span>)
l.sort(key=count_a)
</code></pre>
<h2>√úbungen</h2>
<ul>
<li>Mischen von Karten</li>
<li>Liste von Primzahlen</li>
<li>Insertion Sort</li>
</ul>
<h1>Tupel</h1>
<h2>Tupel</h2>
<p>Erstellung: Eintr√§ge werden mit Kommas getrennt, <em>√ºblicherweise</em> mit runden Klammern umschlossen.</p>
<pre><code class="hljs language-py">empty_tuple = ()
single_value = (<span class="hljs-string">'Thomas'</span>, )
single_value = <span class="hljs-string">'Thomas'</span>,
two_values = (<span class="hljs-string">'Thomas'</span>, <span class="hljs-string">'Smith'</span>)
two_values = <span class="hljs-string">'Thomas'</span>, <span class="hljs-string">'Smith'</span>
</code></pre>
<h2>Unpacking von Tupeln</h2>
<pre><code class="hljs language-py">time = (<span class="hljs-number">23</span>, <span class="hljs-number">45</span>, <span class="hljs-number">0</span>)

hour, minute, second = time
</code></pre>
<p>Tauschen von Variablennamen:</p>
<pre><code class="hljs language-py">a, b = b, a
</code></pre>
<h1>Bytes</h1>
<h2>Bytes</h2>
<p>beim Lesen von Datentr√§gern oder Empfangen von Daten m√ºssen wir manchmals mit Bytes arbeiten: Abfolgen von Zahlen im Bereich von 0 bis 255 (8 Bit)</p>
<p>Bytes k√∂nnen Bilder, Text, Daten, ... repr√§sentieren</p>
<h2>Hexadezimalnotation</h2>
<p>Bytes werden oft in Hexadezimalnotation statt dezimal geschrieben:</p>
<ul>
<li>1<sub>dec</sub> = 1<sub>hex</sub></li>
<li>9<sub>dec</sub> = 9<sub>hex</sub></li>
<li>10<sub>dec</sub> = a<sub>hex</sub></li>
<li>15<sub>dec</sub> = f<sub>hex</sub></li>
<li>16<sub>dec</sub> = 10<sub>hex</sub></li>
<li>17<sub>dec</sub> = 11<sub>hex</sub></li>
<li>31<sub>dec</sub> = 1f<sub>hex</sub></li>
<li>32<sub>dec</sub> = 20<sub>hex</sub></li>
</ul>
<h2>Hexadezimalnotation</h2>
<p>hex-Literale in Python:</p>
<ul>
<li>1 = <code>0x1</code></li>
<li>9 = <code>0x9</code></li>
<li>10 = <code>0xa</code></li>
<li>15 = <code>0xf</code></li>
<li>16 = <code>0x10</code></li>
<li>17 = <code>0x11</code></li>
<li>31 = <code>0x1f</code></li>
<li>32 = <code>0x20</code></li>
</ul>
<h2>Erstellen</h2>
<p>Erstellen von Bytes aus einer Liste von Zahlen:</p>
<pre><code class="hljs language-py">a = <span class="hljs-built_in">bytes</span>([<span class="hljs-number">0</span>, <span class="hljs-number">64</span>, <span class="hljs-number">112</span>, <span class="hljs-number">160</span>, <span class="hljs-number">255</span>])
b = <span class="hljs-built_in">bytes</span>([<span class="hljs-number">0</span>, <span class="hljs-number">0x40</span>, <span class="hljs-number">0x70</span>, <span class="hljs-number">0xa0</span>, <span class="hljs-number">0xff</span>])
</code></pre>
<p>Erstellen von Bytes aus einem Byte String-Literal:</p>
<pre><code class="hljs language-py">c = <span class="hljs-string">b"\x00\x40\x70\xa0\xff"</span>
</code></pre>
<p>ASCII-Werte k√∂nnen direkt verwendet werden (<code>\x40</code> = "@", <code>\x70</code> = "p"):</p>
<pre><code class="hljs language-py">d = <span class="hljs-string">b"\x00@p\xa0\xff"</span>
</code></pre>
<h2>Bytes</h2>
<p>Standard Repr√§sentation in Python:</p>
<pre><code class="hljs language-py">print(<span class="hljs-built_in">bytes</span>([<span class="hljs-number">0x00</span>, <span class="hljs-number">0x40</span>, <span class="hljs-number">0x70</span>, <span class="hljs-number">0xa0</span>]))
</code></pre>
<pre><code class="hljs language-py"><span class="hljs-string">b'\x00@p\xa0\xff'</span>
</code></pre>
<p>Wenn m√∂glich werden bytes als ASCII-Zeichen dargestellt; sonst wird ihr Hexadezimalcode angezeigt</p>
<h2>Bytes und Strings</h2>
<p>Bytes beinhalten of codierten Text</p>
<p>Wenn wir das Encoding kennen, k√∂nnen wir zwischen Bytes und Strings wechseln:</p>
<pre><code class="hljs language-py"><span class="hljs-string">'√§'</span>.encode(<span class="hljs-string">'utf-8'</span>)
<span class="hljs-comment"># b'\xc3\xa4'</span>
</code></pre>
<pre><code class="hljs language-py"><span class="hljs-string">b'\xc3\xa4'</span>.decode(<span class="hljs-string">'utf-8'</span>)
<span class="hljs-comment"># '√§'</span>
</code></pre>
<h1>Sequenzen</h1>
<h2>Sequenzen</h2>
<p>Sequenzen sind Objekte, die aus einer Aufreihung anderer Objekte bestehen, z.B.:</p>
<ul>
<li>Listen</li>
<li>Tupel</li>
<li>Strings</li>
<li>Bytes</li>
</ul>
<h2>Operationen auf Sequenzen</h2>
<ul>
<li>Elementzugriff (via index): <code>s[2]</code></li>
<li>Zugriff auf mehrere Elemente: <code>s[2:4]</code></li>
<li>Konkatenation: <code>s + t</code></li>
<li>Wiederholung: <code>3 * s</code></li>
<li>L√§nge: <code>len(s)</code></li>
<li>for-Schleife: <code>for el in s:</code></li>
<li>if-Abfrage: <code>if el in s:</code></li>
</ul>
<h2>Operationen auf Sequenzen</h2>
<p>Elementzugriff</p>
<pre><code class="hljs language-py">users = [<span class="hljs-string">'mike'</span>, <span class="hljs-string">'tim'</span>, <span class="hljs-string">'theresa'</span>]

users[<span class="hljs-number">0</span>] <span class="hljs-comment"># 'mike'</span>
users[-<span class="hljs-number">1</span>] <span class="hljs-comment"># 'theresa'</span>
</code></pre>
<h2>Operationen auf Sequenzen</h2>
<p>√Ñnderung von Elementen (falls Sequenz ver√§nderlich ist)</p>
<pre><code class="hljs language-py">users = [<span class="hljs-string">'mike'</span>, <span class="hljs-string">'tim'</span>, <span class="hljs-string">'theresa'</span>]

users[<span class="hljs-number">0</span>] = <span class="hljs-string">'molly'</span>
</code></pre>
<h2>Operationen auf Sequenzen</h2>
<p>Zugriff auf mehrere Elemente</p>
<pre><code class="hljs language-py">users = [<span class="hljs-string">'mike'</span>, <span class="hljs-string">'tim'</span>, <span class="hljs-string">'theresa'</span>]

users[<span class="hljs-number">0</span>:<span class="hljs-number">2</span>] <span class="hljs-comment"># ['mike', 'tim']</span>
</code></pre>
<h2>Operationen auf Sequenzen</h2>
<p>Konkatenation</p>
<pre><code class="hljs language-py">users = [<span class="hljs-string">'mike'</span>, <span class="hljs-string">'tim'</span>, <span class="hljs-string">'theresa'</span>]

new_users = users + [<span class="hljs-string">'tina'</span>, <span class="hljs-string">'michelle'</span>]
</code></pre>
<h2>Operationen auf Sequenzen</h2>
<p>Wiederholung</p>
<pre><code class="hljs language-py">users = [<span class="hljs-string">'mike'</span>, <span class="hljs-string">'tim'</span>, <span class="hljs-string">'theresa'</span>]

new_users = users * <span class="hljs-number">3</span>
</code></pre>
<h2>Operationen auf Sequenzen</h2>
<p>L√§nge</p>
<pre><code class="hljs language-py">users = [<span class="hljs-string">'mike'</span>, <span class="hljs-string">'tim'</span>, <span class="hljs-string">'theresa'</span>]

print(<span class="hljs-built_in">len</span>(users))
</code></pre>
<h2>Operationen auf Sequenzen</h2>
<p>for-Schleife</p>
<pre><code class="hljs language-py">users = [<span class="hljs-string">'mike'</span>, <span class="hljs-string">'tim'</span>, <span class="hljs-string">'theresa'</span>]

<span class="hljs-keyword">for</span> user <span class="hljs-keyword">in</span> users:
    print(user.upper())
</code></pre>
<h1>Dictionaries</h1>
<h2>Dictionaries</h2>
<p>Dictionaries sind Zuordnungen, die bestimmten Eintr√§gen zugeh√∂rige Werte zuweisen.</p>
<pre><code class="hljs language-py">person = {
    <span class="hljs-string">"first_name"</span>: <span class="hljs-string">"John"</span>,
    <span class="hljs-string">"last_name"</span>: <span class="hljs-string">"Doe"</span>,
    <span class="hljs-string">"nationality"</span>: <span class="hljs-string">"Canada"</span>,
    <span class="hljs-string">"birth_year"</span>: <span class="hljs-number">1980</span>
}
</code></pre>
<h2>Dictionaries</h2>
<p>Elementzugriff bei dictionaries</p>
<pre><code class="hljs language-py">person[<span class="hljs-string">"first_name"</span>] <span class="hljs-comment"># "John"</span>
</code></pre>
<h2>Dictionaries</h2>
<p>Iteration √ºber Dictionaries</p>
<pre><code class="hljs language-py"><span class="hljs-keyword">for</span> entry <span class="hljs-keyword">in</span> person:
    print(entry)
</code></pre>
<p>Dies liefert die Schl√ºssel: <code>"first_name"</code>, <code>"last_name"</code>, <code>"nationality"</code>, <code>"birth_year"</code></p>
<p>Seit Python 3.7 bleiben die Schl√ºssel garantiert in der urspr√ºnglichen Reihenfolge</p>
<h2>Dictionaries</h2>
<p>Iteration √ºber Schl√ºssel/Werte - Paare:</p>
<pre><code class="hljs language-py"><span class="hljs-keyword">for</span> key, value <span class="hljs-keyword">in</span> person.items():
    print(<span class="hljs-string">f'<span class="hljs-subst">{key}</span>, <span class="hljs-subst">{value}</span>'</span>)
</code></pre>
<h2>Operationen auf Dictionaries</h2>
<pre><code class="hljs language-py">d = {<span class="hljs-number">0</span>: <span class="hljs-string">'zero'</span>, <span class="hljs-number">1</span>: <span class="hljs-string">'one'</span>, <span class="hljs-number">2</span>: <span class="hljs-string">'two'</span>}

d[<span class="hljs-number">2</span>]
d[<span class="hljs-number">2</span>] = <span class="hljs-string">'TWO'</span>
d[<span class="hljs-number">3</span>] <span class="hljs-comment"># KeyError</span>
d.get(<span class="hljs-number">3</span>) <span class="hljs-comment"># None</span>
d.setdefault(<span class="hljs-number">2</span>, <span class="hljs-string">'n'</span>)
d.setdefault(<span class="hljs-number">3</span>, <span class="hljs-string">'n'</span>)

d.keys()
d.items()

d1.update(d2)
</code></pre>
<h2>G√ºltige Keys</h2>
<p>Jedes unver√§nderliche Objekt kann als Key verwendet werden - meistens sind es Strings</p>
<h2>√úbungen</h2>
<ul>
<li>Vokabeltrainer</li>
<li>Todo-Liste</li>
</ul>
<h1>Objektorientierung und Klassen</h1>
<h2>Objektorientierung in Python: "Alles ist ein Objekt"</h2>
<pre><code class="hljs language-py">a = <span class="hljs-number">20</span>

a.to_bytes(<span class="hljs-number">1</span>, <span class="hljs-string">"big"</span>)

<span class="hljs-string">"hello"</span>.upper()
</code></pre>
<h2>Typen und Instanzen</h2>
<pre><code class="hljs language-py">message = <span class="hljs-string">"hello"</span>

<span class="hljs-built_in">type</span>(message)

<span class="hljs-built_in">isinstance</span>(message, <span class="hljs-built_in">str</span>)
</code></pre>
<h2>Klassen</h2>
<p>Klassen k√∂nnen <em>verschiedenste</em> Dinge repr√§sentieren, z.B.:</p>
<ul>
<li>eine Nachricht in einem E-Mail-Programm</li>
<li>einen Benutzer einer Website</li>
<li>ein Auto in einem Computer-Rennspiel</li>
<li>einen Einkaufskorb in einem Onlineshop</li>
<li>ein Bankkonto</li>
<li>...</li>
</ul>
<h2>Klassen</h2>
<p>Definition einer Klasse umfasst √ºblicherweise:</p>
<ul>
<li>"Datenstruktur" (Attribute)</li>
<li>"Verhalten" (Methoden)</li>
</ul>
<h2>Klassen</h2>
<p>Beispiel: Klasse <code>BankAccount</code></p>
<ul>
<li>"Datenstruktur" (Attribute)</li>
<li>"Verhalten" (Methoden)</li>
</ul>
<h2>Definition von Klassen</h2>
<pre><code class="hljs language-py"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyClass</span>():</span>

    <span class="hljs-comment"># die Methode __init__ initialisiert das Objekt</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self</span>):</span>
        <span class="hljs-comment"># self bezieht sich in jeder Methode</span>
        <span class="hljs-comment"># auf die aktuelle Instanz</span>
        self.message = <span class="hljs-string">"hello"</span>

instance = MyClass()
instance.message <span class="hljs-comment"># "hello"</span>
</code></pre>
<h2>Private Attribute und Methoden und Python-Philosophie</h2>
<p>Kennzeichnung von Attributen und Methoden, die von au√üen nicht verwendet werden sollten mit <code>_</code></p>
<p>We're all consenting adults here: <a href="https://mail.python.org/pipermail/tutor/2003-October/025932.html">https://mail.python.org/pipermail/tutor/2003-October/025932.html</a></p>
<p>Achtung: oft Fehlinformation bez√ºglich <code>__</code>! In der Praxis sollten doppelte Unterstriche kaum verwendet werden.</p>
<h2>Vererbung</h2>
<pre><code class="hljs language-py"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span>():</span>
    ...

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Admin</span>(<span class="hljs-params">Person</span>):</span>
    ...
</code></pre>
<h2>Beispiel: Umsetzung einer Length-Klasse</h2>
<pre><code class="hljs language-py">a = Length(<span class="hljs-number">2.54</span>, <span class="hljs-string">"cm"</span>)
b = Length(<span class="hljs-number">3</span>, <span class="hljs-string">"in"</span>)

a.unit
a.value
</code></pre>
<h2>√úbung: TodoList- und Todo-Klassen</h2>
<pre><code class="hljs language-py">tdl = TodoList(<span class="hljs-string">"groceries"</span>)

tdl.add(<span class="hljs-string">"milk"</span>)
tdl.add(<span class="hljs-string">"bread"</span>)

print(tdl.todos)
tdl.todos[<span class="hljs-number">0</span>].toggle()

tdl.stats() <span class="hljs-comment"># {open: 1, completed: 1}</span>
</code></pre>
<h1>Kontrollstrukturen</h1>
<h2>Kontrollstrukturen</h2>
<ul>
<li><code>if</code></li>
<li>Schleifen
<ul>
<li><code>while</code></li>
<li><code>for ... in ...</code></li>
<li><code>for ... in range(...)</code></li>
</ul>
</li>
<li><code>try ... except ...</code></li>
</ul>
<h1>if</h1>
<h2>if</h2>
<p>wir erinnern uns:</p>
<pre><code class="hljs language-py"><span class="hljs-keyword">if</span> age_seconds &#x3C; <span class="hljs-number">1000000000</span>:
    print(<span class="hljs-string">"You are less than 1 billion seconds old"</span>)
<span class="hljs-keyword">else</span>:
    print(<span class="hljs-string">"You are older than 1 billion seconds"</span>)
</code></pre>
<h2>Kriterien bei if</h2>
<p>Bei Kriterien f√ºr <code>if</code> und <code>while</code> verwenden wir √ºblicherweise Ausdr√ºcke, die bei der Auswertung boolesche Werte ergeben.</p>
<p>Wir k√∂nnten jedoch auch andere Typen verwenden:</p>
<pre><code class="hljs language-py">a = <span class="hljs-number">0</span>
<span class="hljs-keyword">if</span> a: ...

name = <span class="hljs-built_in">input</span>(<span class="hljs-string">"enter your name"</span>)
<span class="hljs-keyword">if</span> name: ...

products = []
<span class="hljs-keyword">if</span> products: ...
</code></pre>
<p>Diese Typen werden in boolesche Werte konvertiert bevor sie als Kriterium herangezogen werden.</p>
<h2>Kriterien bei if</h2>
<p>Grunds√§tzlich k√∂nnen beliebige Werte als Kriterium verwendet werden. Die meisten sind dabei "truthy".</p>
<p>Folgende Werte gelten als "falsy" - ein Aufruf von <code>bool(...)</code> liefert <code>False</code> zur√ºck:</p>
<ul>
<li><code>False</code></li>
<li><code>0</code>, <code>0.0</code></li>
<li><code>None</code></li>
<li>leere Sammlungen (<code>""</code>, <code>[]</code>, <code>()</code>, <code>{}</code>)</li>
<li>Vor Python 3.5: Mitternacht (<code>datetime.time(0, 0, 0)</code>)</li>
</ul>
<h2>Kriterien bei if</h2>
<p>nicht "pythonic":</p>
<pre><code class="hljs language-py">name = <span class="hljs-built_in">input</span>(<span class="hljs-string">"Enter your name:"</span>)
<span class="hljs-keyword">if</span> name != <span class="hljs-string">""</span>:
    ...
</code></pre>
<p>"pythonic":</p>
<pre><code class="hljs language-py">name = <span class="hljs-built_in">input</span>(<span class="hljs-string">"Enter your name:"</span>)
<span class="hljs-keyword">if</span> name:
    ...
</code></pre>
<h2>Verketten von Vergleichen</h2>
<p>√úberpr√ºfen, ob <code>age</code> im Bereich 13-19 liegt:</p>
<pre><code class="hljs language-py"><span class="hljs-number">13</span> &#x3C;= age <span class="hljs-keyword">and</span> age &#x3C;= <span class="hljs-number">19</span>
</code></pre>
<p>k√ºrzere Version:</p>
<pre><code class="hljs language-py"><span class="hljs-number">13</span> &#x3C;= age &#x3C;= <span class="hljs-number">19</span>
</code></pre>
<p>√úberpr√ºfen, ob <code>a</code> und <code>b</code> beide <code>0</code> sind (kurze Version):</p>
<pre><code class="hljs language-py">a == b == <span class="hljs-number">0</span>
</code></pre>
<h2>if Expression</h2>
<p>Ein Ausdruck, der einen von zwei m√∂glichen Werten ergibt - basierend auf einem booleschen Kriterium</p>
<pre><code class="hljs language-py">size = <span class="hljs-string">'small'</span> <span class="hljs-keyword">if</span> length &#x3C; <span class="hljs-number">100</span> <span class="hljs-keyword">else</span> <span class="hljs-string">'big'</span>
</code></pre>
<p>In anderen Sprachen:</p>
<pre><code class="hljs language-js"><span class="hljs-comment">// JavaScript</span>
size = length &#x3C; <span class="hljs-number">100</span> ? <span class="hljs-string">'small'</span> : <span class="hljs-string">'big'</span>;
</code></pre>
<h1>For-Schleifen</h1>
<h2>For-Schleifen mit Entpacken von Tupeln</h2>
<p>Wiederholung: Entpacken von Tupeln</p>
<pre><code class="hljs language-py">time = (<span class="hljs-number">23</span>, <span class="hljs-number">45</span>, <span class="hljs-number">0</span>)

hour, minute, second = time
</code></pre>
<h2>For-Schleifen mit Entpacken von Tupeln</h2>
<p>Aufz√§hlen von Listenelementen:</p>
<pre><code class="hljs language-py">l = [<span class="hljs-string">'Alice'</span>, <span class="hljs-string">'Bob'</span>, <span class="hljs-string">'Charlie'</span>]

<span class="hljs-keyword">for</span> i, name <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(l):
    print(<span class="hljs-string">f'<span class="hljs-subst">{i}</span>: <span class="hljs-subst">{name}</span>'</span>)
</code></pre>
<p>Enumerate gibt eine Datenstruktur zur√ºck, die sich wie die folgende Liste verh√§lt:</p>
<pre><code class="hljs language-py">[(<span class="hljs-number">0</span>, <span class="hljs-string">'Alice'</span>), (<span class="hljs-number">1</span>, <span class="hljs-string">'Bob'</span>), (<span class="hljs-number">2</span>, <span class="hljs-string">'Charlie'</span>)]
</code></pre>
<h2>For-Schleifen mit Entpacken von Tupeln</h2>
<p>Auflisten von Ordnerinhalten (inklusive Unterodner) mittels <code>os.walk</code>:</p>
<pre><code class="hljs language-py"><span class="hljs-keyword">import</span> os

<span class="hljs-keyword">for</span> directory, dirs, files <span class="hljs-keyword">in</span> os.walk(<span class="hljs-string">"C:\\"</span>):
    print(<span class="hljs-string">f"<span class="hljs-subst">{directory}</span> <span class="hljs-subst">{files}</span>"</span>)
</code></pre>
<pre><code class="hljs language-json">C:\ []
C:\PerfLogs []
C:\Program Files []
C:\ProgramData []
...
</code></pre>
<h1>Comprehension</h1>
<h2>List Comprehension</h2>
<p>Wichtige M√∂glichkeit, um Listen basierend auf anderen Listen zu erstellen</p>
<p>In anderen Programmiersprachen oft umgesetzt mittels <code>map</code> und <code>filter</code> / <code>grep</code></p>
<h2>List Comprehension</h2>
<p><em>Umwandeln der Eintr√§ge</em>:</p>
<pre><code class="hljs language-py">names = [<span class="hljs-string">"Alice"</span>, <span class="hljs-string">"Bob"</span>, <span class="hljs-string">"Charlie"</span>]

uppercase_names = [name.upper() <span class="hljs-keyword">for</span> name <span class="hljs-keyword">in</span> names]
</code></pre>
<p>Resultat:</p>
<pre><code class="hljs language-py">[<span class="hljs-string">"ALICE"</span>, <span class="hljs-string">"BOB"</span>, <span class="hljs-string">"CHARLIE"</span>]
</code></pre>
<h2>List Comprehension</h2>
<p><em>Filtern</em>:</p>
<pre><code class="hljs language-py">amounts = [<span class="hljs-number">10</span>, -<span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">19</span>, -<span class="hljs-number">2</span>]

positive_amounts = [amount <span class="hljs-keyword">for</span> amount <span class="hljs-keyword">in</span> amounts <span class="hljs-keyword">if</span> amount > <span class="hljs-number">0</span>]
</code></pre>
<p>result:</p>
<pre><code class="hljs language-py">[<span class="hljs-number">10</span>, <span class="hljs-number">8</span>, <span class="hljs-number">19</span>]
</code></pre>
<h2>List Comprehension</h2>
<p>Allgemeine Syntax:</p>
<pre><code class="hljs language-py">new_list = [new_entry <span class="hljs-keyword">for</span> entry <span class="hljs-keyword">in</span> old_list]

new_list = [new_entry <span class="hljs-keyword">for</span> entry <span class="hljs-keyword">in</span> old_list <span class="hljs-keyword">if</span> condition]
</code></pre>
<h2>Dictionary Comprehension</h2>
<pre><code class="hljs language-py">colors: {
  <span class="hljs-string">'red'</span>: <span class="hljs-string">'#ff0000'</span>,
  <span class="hljs-string">'blue'</span>: <span class="hljs-string">'#0000ff'</span>,
  <span class="hljs-string">'green'</span>: <span class="hljs-string">'#008000'</span>
}

m_colors = { color: colors[color][<span class="hljs-number">1</span>:] <span class="hljs-keyword">for</span> color <span class="hljs-keyword">in</span> colors}
</code></pre>
<h2>√úbung</h2>
<p>Beispiel Todo-Liste: Entfernen erledigter Todos</p>
<h1>Exceptions (Ausnahmen)</h1>
<h2>Arten von Exceptions</h2>
<ul>
<li>AttributeError, IndexError, KeyError</li>
<li>NameError</li>
<li>TypeError</li>
<li>ValueError</li>
<li>IOError</li>
<li>ZeroDivisionError</li>
<li>...</li>
</ul>
<p>√úbung: versuche, jede der obigen Exceptions auszul√∂sen</p>
<h2>Exceptions abfangen</h2>
<pre><code class="hljs language-py">age_str = <span class="hljs-built_in">input</span>(<span class="hljs-string">"Enter your age"</span>)
<span class="hljs-keyword">try</span>:
    age = <span class="hljs-built_in">int</span>(age_str)
<span class="hljs-keyword">except</span> ValueError:
    print(<span class="hljs-string">"Could not parse input as number"</span>)
</code></pre>
<h2>Exceptions abfangen</h2>
<pre><code class="hljs language-py">age_str = <span class="hljs-built_in">input</span>(<span class="hljs-string">"Enter your age"</span>)
<span class="hljs-keyword">try</span>:
    age = <span class="hljs-built_in">int</span>(age_str)
<span class="hljs-keyword">except</span> ValueError <span class="hljs-keyword">as</span> e:
    print(<span class="hljs-string">"Could not parse input as number"</span>)
    print(e)
    print(e.args)
</code></pre>
<h2>Exceptions abfangen</h2>
<p>Mehrere Arten von Exceptions abfangen:</p>
<pre><code class="hljs language-py"><span class="hljs-keyword">try</span>:
    file = <span class="hljs-built_in">open</span>(<span class="hljs-string">"log.txt"</span>, encoding=<span class="hljs-string">"utf-8"</span>)
<span class="hljs-keyword">except</span> FileNotFoundError:
    print(<span class="hljs-string">"could not find log file"</span>)
<span class="hljs-keyword">except</span> PermissionError:
    print(<span class="hljs-string">"reading of file is not permitted"</span>)
<span class="hljs-keyword">except</span> Exception:
    print(<span class="hljs-string">"error when reading file"</span>)
</code></pre>
<h2>Exceptions abfangen</h2>
<p>Einsatz von <code>finally</code>:</p>
<pre><code class="hljs language-py"><span class="hljs-keyword">try</span>:
    file = <span class="hljs-built_in">open</span>(<span class="hljs-string">"log.txt"</span>, <span class="hljs-string">"w"</span>, encoding=<span class="hljs-string">"utf-8"</span>)
    file.write(<span class="hljs-string">"abc"</span>)
    file.write(<span class="hljs-string">"def"</span>)
<span class="hljs-keyword">except</span> IOError:
    print(<span class="hljs-string">"Error when writing to file"</span>)
<span class="hljs-keyword">finally</span>:
    file.close()
</code></pre>
<h2>Exceptions abfangen</h2>
<p>Einsatz von <code>else</code>:</p>
<pre><code class="hljs language-py"><span class="hljs-keyword">try</span>:
    file = <span class="hljs-built_in">open</span>(<span class="hljs-string">"log.txt"</span>, <span class="hljs-string">"w"</span>, encoding=<span class="hljs-string">"utf-8"</span>)
<span class="hljs-keyword">except</span> IOError:
    print(<span class="hljs-string">"could not open file"</span>)
<span class="hljs-keyword">else</span>:
    <span class="hljs-comment"># no errors expected here</span>
    file.write(<span class="hljs-string">"abc"</span>)
    file.write(<span class="hljs-string">"def"</span>)
file.close()
</code></pre>
<h2>Python-Philosophie: EAFP</h2>
<p>LBYL: <em>Look before you leap</em></p>
<p>EAFP: <em>It's easier to ask for forgiveness than permission</em></p>
<p>(Beispiel: Parsen von Zahlen)</p>
<h1>Exceptions ausl√∂sen</h1>
<h2>Exceptions ausl√∂sen</h2>
<pre><code class="hljs language-py"><span class="hljs-keyword">raise</span> ValueError(<span class="hljs-string">'test'</span>)
</code></pre>
<h2>Abgefangene Exceptions erneut ausl√∂sen</h2>
<pre><code class="hljs language-py"><span class="hljs-keyword">try</span>:
    ...
<span class="hljs-keyword">except</span> ClientError <span class="hljs-keyword">as</span> e
    <span class="hljs-keyword">if</span> <span class="hljs-string">"DryRunOperation"</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> <span class="hljs-built_in">str</span>(e):
        <span class="hljs-keyword">raise</span>
</code></pre>
<h2>Eigene Exceptions</h2>
<p>Eigene Exceptions k√∂nnen wir als Unterklassen von <code>Exception</code> definieren</p>
<pre><code class="hljs language-py"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MoneyParseException</span>(<span class="hljs-params">Exception</span>):</span>
    <span class="hljs-keyword">pass</span>

<span class="hljs-keyword">raise</span> MoneyParseException()
</code></pre>
<h1>Module und Pakete</h1>
<h2>Module und Pakete</h2>
<ul>
<li>Modul = Sammlung von Python-Objekten, die importiert werden k√∂nnen</li>
<li>Paket = Sammlung von Modulen</li>
</ul>
<p>(Pakete sind eigenlich eine besondere Form von Modulen)</p>
<h2>Beispiele f√ºr Imports</h2>
<ul>
<li><code>urllib</code> = Paket</li>
<li><code>urllib.request</code> = Modul</li>
<li><code>urllib.request.urlopen</code> = Funktion</li>
</ul>
<!-- list separator -->
<ul>
<li><code>sys</code> = Modul</li>
<li><code>sys.path</code> = Objekt</li>
</ul>
<h2>Beispiele f√ºr Imports</h2>
<p>Typische Imports:</p>
<pre><code class="hljs language-py"><span class="hljs-keyword">import</span> module1
<span class="hljs-keyword">import</span> module2
<span class="hljs-keyword">from</span> package3 <span class="hljs-keyword">import</span> module3a, module3b
<span class="hljs-keyword">from</span> module4 <span class="hljs-keyword">import</span> object4a, object4b
<span class="hljs-keyword">from</span> package5.module5 <span class="hljs-keyword">import</span> object5a, object5b
</code></pre>
<p>Konkrete Beispiele:</p>
<pre><code class="hljs language-py"><span class="hljs-keyword">import</span> os
<span class="hljs-keyword">import</span> sys
<span class="hljs-keyword">from</span> urllib <span class="hljs-keyword">import</span> request, response
<span class="hljs-keyword">from</span> math <span class="hljs-keyword">import</span> sqrt, pi
<span class="hljs-keyword">from</span> http.client <span class="hljs-keyword">import</span> HTTPConnection, HTTPSConnection
</code></pre>
<h2>Abk√ºrzungen bei Imports</h2>
<p>Insbesondere in der interaktiven Konsole sinnvoll, wenn Tipparbeit gespart werden soll:</p>
<p>Kurznamen beim import:</p>
<pre><code class="hljs language-py"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
<span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt
<span class="hljs-keyword">import</span> tkinter <span class="hljs-keyword">as</span> tk
</code></pre>
<p>Alles aus einem Modul importieren (eher nicht empfohlen):</p>
<pre><code class="hljs language-py"><span class="hljs-keyword">from</span> math <span class="hljs-keyword">import</span> *
</code></pre>
<h2>Automatischer Import von Untermodulen</h2>
<p>Beim Import <em>mancher</em> Pakete werden automatisch auch Untermodule importiert.</p>
<p>Beispiele:</p>
<pre><code class="hljs language-py"><span class="hljs-keyword">import</span> os
<span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np

os.path.join(...)
np.random.randint(<span class="hljs-number">10</span>)
</code></pre>
<p>Gegenbeispiel - schl√§gt fehl:</p>
<pre><code class="hljs language-py"><span class="hljs-keyword">import</span> urllib

urllib.request.urlopen(...)
</code></pre>
<h2>Konventionen f√ºr Imports</h2>
<ul>
<li>alle imports <em>sollten</em> am Anfang einer Python-Datei stehen</li>
<li>die imports <em>sollten</em> in drei Gruppen geteilt werden:
<ul>
<li>standard Library</li>
<li>andere Libraries</li>
<li>projektinterne Module</li>
</ul>
</li>
</ul>
<h1>Eigene Module</h1>
<h2>Eigene Module</h2>
<p>Modul als Verzeichnis:</p>
<pre><code class="hljs language-markdown"><span class="hljs-bullet">-</span> foo/
<span class="hljs-bullet">  -</span> <span class="hljs-strong">__init__</span>.py
</code></pre>
<pre><code class="hljs language-py"><span class="hljs-comment"># __init__.py</span>
a = <span class="hljs-number">1</span>
b = <span class="hljs-number">2</span>
</code></pre>
<h2>Eigene Module</h2>
<p>Modul als Ordner mit separaten Definitionen:</p>
<pre><code class="hljs language-reasonml">- foo/
  - <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">__init__</span>.</span></span>py
  - <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">_a_mod</span>.</span></span>py
  - <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">_b_mod</span>.</span></span>py
</code></pre>
<pre><code class="hljs language-py"><span class="hljs-comment"># __init__.py</span>
<span class="hljs-keyword">from</span> foo._a_mod <span class="hljs-keyword">import</span> a
<span class="hljs-keyword">from</span> foo._b_mod <span class="hljs-keyword">import</span> b
</code></pre>
<h2>Aufl√∂sen von Imports</h2>
<p>Alle Pfade f√ºr Imports sehen wir via:</p>
<pre><code class="hljs language-py"><span class="hljs-keyword">import</span> sys
print(sys.path)
</code></pre>
<h2>Kompilieren von Modulen</h2>
<p>Importierte Module werden in kompilierter Form abgelegt, um sp√§ter schneller eingelesen werden zu k√∂nnen.</p>
<p>Wir finden die kompilierten Versionen im Ordner <code>__pycache__</code></p>
<h2>Modulname und Einstiegspunkt</h2>
<p>in einem importierten Module bezieht sich die Variable <code>__name__</code> auf dessen Namen</p>
<p>wurde eine Python-Datei direkt ausgef√ºhrt und nicht importiert, ist deren <code>__name__</code> gleich <code>"__main__"</code></p>
<pre><code class="hljs language-py"><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    print(<span class="hljs-string">"this file was run directly (and not imported)"</span>)
</code></pre>
<h1>PIP</h1>
<h2>PIP</h2>
<p><em>PIP</em> = Paketmanager f√ºr Python</p>
<p>Einfache Verwendung:</p>
<pre><code class="hljs language-bash">pip install requests numpy
</code></pre>
<p>Pakete und deren Abh√§ngigkeiten werden im Python Package Index gesucht: <a href="https://pypi.org/">https://pypi.org/</a></p>
<h2>PIP</h2>
<p>Installation bestimmter Versionen:</p>
<pre><code class="hljs language-apache"><span class="hljs-attribute">pip</span> install requests==<span class="hljs-number">1</span>.<span class="hljs-number">1</span>
<span class="hljs-attribute">pip</span> install numpy>=<span class="hljs-number">1</span>.<span class="hljs-number">16</span>
</code></pre>
<h2>PIP</h2>
<p>Abh√§ngigkeitenliste in einer Requirements-Datei, die einfach mit anderen geteilt werden kann:</p>
<p>requirements.txt:</p>
<pre><code class="hljs language-apache"><span class="hljs-attribute">requests</span>==<span class="hljs-number">1</span>.<span class="hljs-number">1</span>
<span class="hljs-attribute">numpy</span>>=<span class="hljs-number">1</span>.<span class="hljs-number">16</span>
</code></pre>
<pre><code class="hljs language-bash">pip install -r requirements.txt
</code></pre>
<h2>Pipenv</h2>
<p>Via Pipenv: virtuelle Umgebungen, die die projektweise Installation verschiedener Paketversionen erlauben</p>
<h2>Pipenv</h2>
<p>Installation von pipenv:</p>
<pre><code class="hljs language-bash">pip install pipenv
</code></pre>
<h2>Pipenv</h2>
<p>Verwendung von pipenv:</p>
<pre><code class="hljs language-bash">pipenv install requests
pipenv install numpy
</code></pre>
<p>Es entstehen zwei Dateien:</p>
<ul>
<li><em>Pipfile</em>: allgemeine Abh√§ngigkeitsinformationen</li>
<li><em>Pipfile.lock</em>: genaue Versionsnummern</li>
</ul>
<h2>Pipenv</h2>
<p>Ausf√ºhren in einer PIP-Umgebung:</p>
<pre><code class="hljs language-bash">pipenv run python foo.py
</code></pre>
<h1>Funktionen</h1>
<h2>Beliebige Anzahl an Parametern (args / kwargs)</h2>
<pre><code class="hljs language-py"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">foo</span>(<span class="hljs-params">*args, **kwargs</span>):</span>
    print(args)
    print(kwargs)

foo(<span class="hljs-string">"one"</span>, <span class="hljs-string">"two"</span>, x=<span class="hljs-string">"hello"</span>)
<span class="hljs-comment"># args: ("one", "two")</span>
<span class="hljs-comment"># kwargs: {"x": "hello"}</span>
</code></pre>
<p><code>args</code> ist ein Tupel, <code>kwargs</code> ein Dictionary.</p>
<h2>Beliebige Anzahl an Parametern (args / kwargs)</h2>
<p>Aufgabe: "Nachbau" von <code>range()</code> mit Hilfe einer while-Schleife</p>
<h2>Entpacken von Parameterlisten</h2>
<pre><code class="hljs language-py">numbers = [<span class="hljs-string">"one"</span>, <span class="hljs-string">"two"</span>, <span class="hljs-string">"three"</span>]

<span class="hljs-comment"># equivalent:</span>
print(numbers[<span class="hljs-number">0</span>], numbers[<span class="hljs-number">1</span>], numbers[<span class="hljs-number">2</span>])

print(*numbers)
</code></pre>
<h2>Globaler und lokaler Scope</h2>
<p><code>global</code> / <code>nonlocal</code></p>
<p>Spielt beim <em>Zuweisen</em> von Variablen eine Rolle</p>
<h2>Globaler und lokaler Scope</h2>
<p>Beispiel: Schere, Stein, Papier</p>
<pre><code class="hljs language-py"><span class="hljs-keyword">import</span> random
wins = <span class="hljs-number">0</span>
losses = <span class="hljs-number">0</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">play_rock_paper_scissors</span>():</span>
    player = <span class="hljs-built_in">input</span>(<span class="hljs-string">"rock, paper or scissors?"</span>)
    opponent = random.choice([<span class="hljs-string">"rock"</span>, <span class="hljs-string">"paper"</span>, <span class="hljs-string">"scissors"</span>])
    <span class="hljs-keyword">if</span> player == opponent:
        <span class="hljs-keyword">pass</span>
    <span class="hljs-keyword">elif</span> (
        (player == <span class="hljs-string">"rock"</span> <span class="hljs-keyword">and</span> opponent == <span class="hljs-string">"scissors"</span>)
        <span class="hljs-keyword">or</span> (player == <span class="hljs-string">"paper"</span> <span class="hljs-keyword">and</span> opponent == <span class="hljs-string">"rock"</span>)
        <span class="hljs-keyword">or</span> (player == <span class="hljs-string">"scissors"</span> <span class="hljs-keyword">and</span> opponent == <span class="hljs-string">"paper"</span>)
    ):
        <span class="hljs-keyword">global</span> wins
        wins += <span class="hljs-number">1</span>
    <span class="hljs-keyword">else</span>:
        <span class="hljs-keyword">global</span> losses
        losses += <span class="hljs-number">1</span>
<span class="hljs-keyword">while</span> <span class="hljs-built_in">input</span>(<span class="hljs-string">"play? (y/n)"</span>) != <span class="hljs-string">"n"</span>:
    play_rock_paper_scissors()
print(<span class="hljs-string">f"won: <span class="hljs-subst">{wins}</span>, lost: <span class="hljs-subst">{losses}</span>"</span>)
</code></pre>
<h2>Globaler und lokaler Scope</h2>
<p>Eine bessere Alternative zum Keyword <code>global</code> ist oft das Verwenden einer Klasse:</p>
<pre><code class="hljs language-py"><span class="hljs-keyword">import</span> random
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RockPaperScissors</span>():</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self</span>):</span>
        self.wins = <span class="hljs-number">0</span>
        self.losses = <span class="hljs-number">0</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">play</span>(<span class="hljs-params">self</span>):</span>
        ...
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">run</span>(<span class="hljs-params">self</span>):</span>
        <span class="hljs-keyword">while</span> <span class="hljs-built_in">input</span>(<span class="hljs-string">"play? (y/n)"</span>) != <span class="hljs-string">"n"</span>:
            self.play()
        print(<span class="hljs-string">f"won: <span class="hljs-subst">{wins}</span>, lost: <span class="hljs-subst">{losses}</span>"</span>)
</code></pre>
<h1>Objektreferenzen und Mutationen</h1>
<h2>Objektreferenzen und Mutationen</h2>
<p>Wiederholung: Was wird das folgende Programm ausgeben?</p>
<pre><code class="hljs language-py">a = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]
b = a
b.append(<span class="hljs-number">4</span>)
print(a)
</code></pre>
<h2>Objektreferenzen und Mutationen</h2>
<pre><code class="hljs language-py">a = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]
b = a
b.append(<span class="hljs-number">4</span>)
print(a)
</code></pre>
<p>Das obige Programm gibt <code>[1, 2, 3, 4]</code> aus</p>
<p><code>a</code> und <code>b</code> beziehen sich auf das selbe Objekt</p>
<h2>Objektreferenzen und Mutationen</h2>
<p>Durch das Ausf√ºhren von <code>b = a</code> entsteht einen zus√§tzliche Referenz, die sich auf das selbe Objekt bezieht.</p>
<p>Operationen, die zum Setzen zus√§tzlicher Referenzen f√ºhren:</p>
<ul>
<li>Zuweisungen (<code>b = a</code>)</li>
<li>Funktionsaufrufe (<code>myfunc(a)</code> - es entsteht eine neue funktionsinterne Referenz)</li>
<li>Eintragungen in Kollektionen (z.B. <code>mylist.append(a)</code>)</li>
<li>...</li>
</ul>
<h2>Objektreferenzen bei Funktionen</h2>
<p>Der Aufruf einer Funktion mit einem Objekt als Parameter versieht dieses Objekt mit einer weiteren Referenz (<em>call by sharing</em>).</p>
<pre><code class="hljs language-py"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">foo</span>(<span class="hljs-params">a_inner</span>):</span>
    print(<span class="hljs-built_in">id</span>(a_inner))

a_outer = []
foo(a_outer)
print(<span class="hljs-built_in">id</span>(a_outer))
</code></pre>
<h2>Objektreferenzen und Mutationen bei Funktionen</h2>
<p>empfohlenes Prinzip f√ºr Funktionen:</p>
<p><strong>Funktionen sollten √ºbergebene Parameter nicht ab√§ndern</strong></p>
<p>oder allgemeiner:</p>
<p><strong>Funktionen sollten mit der Python-Umgebung nur dadurch interagieren, dass sie Parameter entgegennehmen und R√ºckgabewerte zur√ºckliefern</strong> (Sie sollten keine Seiteneffekte / Nebeneffekte haben)</p>
<h2>Objektreferenzen und Mutationen bei Funktionen</h2>
<pre><code class="hljs language-py"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">remove_middle_element</span>(<span class="hljs-params">list_in</span>):</span>
    list_in.pop(<span class="hljs-built_in">len</span>(list_in) // <span class="hljs-number">2</span>)
    <span class="hljs-keyword">return</span> list_in

a = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]
b = remove_middle_element(a)
print(b)
print(a)
</code></pre>
<p>Was gibt das obige Beispiel aus?</p>
<h2>Objektreferenzen und Mutationen bei Funktionen</h2>
<p>Umsetzungsm√∂glichkeiten am Beispiel <code>remove_middle_element</code>:</p>
<ul>
<li>als Funktion ohne Seiteneffekte</li>
<li>als Methode einer eigenen Klasse <code>AdvancedList</code></li>
</ul>
<p>Vergleiche: <code>sorted()</code> und <code>list.sort()</code> in Python</p>
<h2>Funktion ohne Seiteneffekte</h2>
<p>Die Funktion √§ndert die √ºbergebene Liste nicht ab - stattdessen wird eine neue Liste zur√ºckgegeben.</p>
<pre><code class="hljs language-py"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">remove_middle_element</span>(<span class="hljs-params">list_in</span>):</span>
    list_out = list_in.copy()
    list_out.pop(<span class="hljs-built_in">len</span>(list_out) // <span class="hljs-number">2</span>)
    <span class="hljs-keyword">return</span> list_out

a = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]
b = remove_middle_element(a)
</code></pre>
<h2>Methode einer eigenen Klasse</h2>
<p>Lockerung des erw√§hnten Prinzips bei Methoden: Eintr√§ge in <code>self</code> <em>d√ºrfen abge√§ndert werden</em>.</p>
<p>Die folgende Methode √§ndert das Objekt intern ab und gibt nichts zur√ºck.</p>
<pre><code class="hljs language-py"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AdvancedList</span>(<span class="hljs-params"><span class="hljs-built_in">list</span></span>):</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">remove_middle_element</span>(<span class="hljs-params">self</span>):</span>
        self.pop(<span class="hljs-built_in">len</span>(self) // <span class="hljs-number">2</span>)

a = AdvancedList([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>])
a.remove_middle_element()
</code></pre>
<h2>Objektreferenzen und Mutationen bei Funktionen</h2>
<p>√úbliche Empfehlungen:</p>
<ul>
<li>√úbergebene Parameter nicht ab√§ndern (Ausnahme: <code>self</code> in Methoden)</li>
<li>Keine globalen Variablen setzen</li>
</ul>
<p>Strikte Regeln - f√ºr sogenannte <em>reine</em> Funktionen:</p>
<ul>
<li>Keine globalen Variablen lesen</li>
<li>Kein I/O (Interaktion mit Festplatte / Netzwerk)</li>
</ul>
<p>Reine Funktionen sind Funktionen, die mit ihrer Umgebung nur √ºber Eingabeparameter und R√ºckgabewerte interagieren.</p>
<p>Je "reiner" eine Funktion ist, umso einfacher ist sie wiederzuverwenden und zu testen.</p>
<h2>Mutieren von Standardparametern</h2>
<p>Unerwartetes Verhalten in Python, wenn Standardparameter mutiert werden:</p>
<pre><code class="hljs language-py"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">register_file_formats</span>(<span class="hljs-params">formats=[<span class="hljs-string">"py"</span>, <span class="hljs-string">"pyc"</span>]</span>):</span>
    <span class="hljs-keyword">for</span> <span class="hljs-built_in">format</span> <span class="hljs-keyword">in</span> formats:
        formats.append(<span class="hljs-built_in">format</span>.upper())
    <span class="hljs-comment"># ...</span>
    print(formats)

register_file_formats([<span class="hljs-string">"py"</span>]) <span class="hljs-comment"># ["py", "PY"]</span>
register_file_formats()
<span class="hljs-comment"># ["py", "pyc", "PY", "PYC"]</span>
register_file_formats()
<span class="hljs-comment"># ["py", "pyc", "PY", "PYC", "PY", "PYC", "PY", "PYC"]</span>
</code></pre>
<p>(Websuche: <em>mutable default arguments</em>)</p>
<h1>Python Versionen</h1>
<h2>Python Versionen</h2>
<p>Python 2 vs Python 3</p>
<h2>Strings und Bytes</h2>
<p>Tiefgreifende √Ñnderung in Python 3:</p>
<p>Strikte Trennung von Text (strings) und Bin√§rdaten (bytes)</p>
<p>in Python 2: Datentypen <code>bytes</code>, <code>str</code> und <code>unicode</code></p>
<h2>Print</h2>
<p>Python 2:</p>
<pre><code class="hljs language-py"><span class="hljs-built_in">print</span> <span class="hljs-string">"a"</span>,
</code></pre>
<p>Python 3:</p>
<pre><code class="hljs language-py">print(<span class="hljs-string">"a"</span>, end=<span class="hljs-string">""</span>)
</code></pre>
<h2>Division</h2>
<p>Python 2:</p>
<pre><code class="hljs language-py"><span class="hljs-number">10</span> / <span class="hljs-number">3</span>    <span class="hljs-comment"># 3</span>
</code></pre>
<h2>range</h2>
<p>in Python 2: <code>range()</code> liefert Liste zur√ºck, <code>xrange()</code> liefert speicherschonendes Objekt</p>
<p>in Python 3: <code>range()</code> liefert speicherschonendes Objekt</p>
<h2>input</h2>
<p>in Python 2: <code>input()</code> wertet die Eingabe aus, <code>raw_input()</code> gibt String zur√ºck</p>
<p>in Python 3: <code>input()</code> gibt String zur√ºck</p>
<h2>__future__ imports</h2>
<p>Verhalten von Python 3 in Python 2 √ºbernehmen:</p>
<pre><code class="hljs language-py"><span class="hljs-keyword">from</span> __future__ <span class="hljs-keyword">import</span> print_function
<span class="hljs-keyword">from</span> __future__ <span class="hljs-keyword">import</span> unicode_literals
<span class="hljs-keyword">from</span> __future__ <span class="hljs-keyword">import</span> division
</code></pre>
<h2>Python-Future</h2>
<p>Kompatibilit√§tsschicht zwischen Python 2 und Python 3</p>
<p>Unterst√ºtzung von Python 2 und Python 3 aus der gleichen Codebase</p>