

  
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
  
  
    <section><h1>React</h1></section>
    <section><h2>Presentation and code</h2><p>Presentations available at: <a href="https://karuga.eu/courses-presentations">https://karuga.eu/courses-presentations</a></p><p>Code available at: <a href="https://github.com/marko-knoebl/courses-code">https://github.com/marko-knoebl/courses-code</a></p></section>
<section><h2>Your Trainer</h2><p>Marko Knöbl</p><ul>
<li>Frontend Web-Development<ul>
<li>JavaScript</li>
<li>React, Angular</li>
</ul></li>
<li>Programming<ul>
<li>Python, JavaScript</li>
</ul></li>
</ul></section>
<section><h2>Introduction of Participants</h2><ul>
<li>current projects</li>
<li>prior knowledge</li>
<li>expectations</li>
</ul></section>
<section><h2>Organizational</h2><ul>
<li>duration</li>
<li>breaks</li>
<li>lunch</li>
<li>materials</li>
<li>questions, feedback?</li>
</ul></section>
    <section><h1>Agenda</h1><section><h2>Agenda</h2><section><h3>Basics</h3><ul>
<li>Overview of React</li>
<li>Modern JS / JS-Basics for React</li>
<li>Declarative rendering / Working with application state</li>
<li>Components</li>
<li>Using predefined Components</li>
</ul></section></section><section><h2>Agenda</h2><section><h3>Advanced</h3><ul>
<li>Lifecycle</li>
<li>Routing</li>
<li>Testing components</li>
<li>Redux</li>
<li>Progressive Web Apps with React</li>
</ul></section></section></section>
    <section><h1>React.js</h1><section><h2>What is React?</h2><ul>
<li>One of the 3 big JavaScript UI libraries (besides Angular, vue.js)</li>
</ul></section><section><h2>Basics of modern JavaScript UI libraries</h2><ul>
<li>declarative</li>
<li>component-based</li>
</ul></section><section><h2>declarative</h2><ul>
<li>In the background there is a data model which describes the entire application state</li>
<li>The data model changes in response to user interactions, causing the view to update automatically (and efficiently)</li>
</ul></section><section><h2>component-based</h2><ul>
<li>"custom" HTML-Tags</li>
<li>data flow via props and events</li>
<li>usually unidirectional dataflow (from parent to child)</li>
</ul></section><section><h2>Example: data model and data flow in a Todo app</h2></section><section><h2>What makes React special?</h2><ul>
<li>JavaScript-based template syntax</li>
<li>explicit state mutations via setters</li>
</ul></section><section><h2>History of React</h2><ul>
<li>used internally at Facebook from 2011</li>
<li>open source since 2013</li>
<li>current major version: React 16 (September 2017)</li>
<li>February 2019: introction of hooks</li>
</ul></section></section>
    <section><h1>Create-React-App</h1><section><h2>Developing with node.js and npm</h2><ul>
<li>node.js: JS-Runtime<ul>
<li>running the local development server</li>
<li>unit tests</li>
</ul></li>
<li>npm: package manager<ul>
<li>managing dependencies</li>
<li>packages are located in the <em>node_modules</em> directory</li>
<li>configuration via <em>package.json</em></li>
</ul></li>
</ul></section><section><h2>create-react-app</h2><p>most-used method for generating React projects</p><p>run it via:</p><pre><code class="language-bash">npx create-react-app playground
</code></pre><p>see also: <a href="https://reactjs.org/docs/add-react-to-a-new-app.html">https://reactjs.org/docs/add-react-to-a-new-app.html</a></p></section><section><h2>create-react-app</h2><p>Creates a simple React app which can be used as a starting point</p><p>many aspects are preconfigured:</p><ul>
<li>local development server</li>
<li>unittesting framework jest</li>
<li>webpack and babel</li>
<li>SCSS and CSS modules</li>
</ul></section><section><h2>default project structure</h2><ul>
<li><code>public/index.html</code>, <code>src/index.js</code>: entry points</li>
<li><code>App.js</code>, <code>App.css</code>: define the App component</li>
<li><code>node_modules</code>: dependencies</li>
</ul></section><section><h2>development server and build</h2><p>inside the project directory:</p><ul>
<li><code>npm start</code>: starts the local development server</li>
<li><code>npm run build</code>: creates a build (for deployment)</li>
</ul></section></section>
    <section><h1>React &#x26; JSX Basics</h1><section><h2>Defining a component as a function</h2><pre><code class="language-jsx">import React from 'react';

const App = () => {
  return &#x3C;div>Hello, World!&#x3C;/div>;
};

export default App;
</code></pre></section><section><h2>Defining a component as a class</h2><pre><code class="language-jsx">import React, { Component } from 'react';

class App extends Component {
  render() {
    return &#x3C;div>Hello, World!&#x3C;/div>;
  }
}

export default App;
</code></pre></section><section><h2>Component definition</h2><p>In order to distinguish them from ordinary tags, components start with a capital letter</p></section><section><h2>JSX: JS + XML</h2><p>JSX = Template language of React</p><ul>
<li><strong>&#x3C;</strong> switches from JS to XML/HTML</li>
<li><strong>{</strong> switches back to JS</li>
</ul></section><section><h2>JSX: JS + XML</h2><pre><code class="language-jsx">&#x3C;div>A year has {365 * 24} hours&#x3C;/div>
</code></pre></section><section><h2>JSX: Simple tasks</h2><ul>
<li>Show the current date</li>
<li>Show either "heads" or "tails" inside a div</li>
</ul></section><section><h2>JSX: Properties</h2><p>we can also change from XML to JS in properties:</p><pre><code class="language-jsx">&#x3C;a href={'https://en.wikipedia.org/wiki/' + articleName}>
  some article
&#x3C;/a>
</code></pre><p>Note there are no quote characters around the value of <em>href</em></p></section><section><h2>JSX Properties: task</h2><p>Show a picture based on an id; make use of this function:</p><pre><code class="language-js">const getImgUrl = id =>
  'https://picsum.photos/200?image=' + id.toString();
</code></pre></section><section><h2>JSX: events</h2><pre><code class="language-jsx">const hello = () => {...}

&#x3C;button onClick={hello}>Say Hello&#x3C;/button>
</code></pre><p>list of browser events:
<a href="https://www.w3schools.com/jsref/dom_obj_event.asp">https://www.w3schools.com/jsref/dom_obj_event.asp</a></p></section><section><h2>State example</h2><p>(we will look into the topic of state in detail later)</p><pre><code class="language-jsx">const Counter = () => {
  const [count, setCount] = useState(0);

  return (
    &#x3C;button
      onClick={() => {
        setCount(count + 1);
      }}>
      {count}
    &#x3C;/button>
  );
};
</code></pre></section></section>
    <section><h1>VS Code</h1><section><h2>VS Code</h2><p><a href="https://code.visualstudio.com">https://code.visualstudio.com</a></p><p>open source IDE</p><p>independent of <em>Visual Studio</em> itself</p></section><section><h2>VS Code: open folder</h2><p>via <em>File</em> - <em>Open Folder</em></p></section><section><h2>VS Code: File explorer, split editor</h2></section><section><h2>VS Code: Terminal</h2><p>Open / close the terminal view via <em>ctrl</em> + <em>`</em></p><p>Open an additional terminal via the <em>+</em> Symbol</p><p>Terminals will run in the currently open folder</p></section><section><h2>VS Code: Configuration</h2><p>Via <em>File - Preferences - Settings</em></p><p>Is split into <em>User Settings</em> and <em>Workspace Settings</em></p></section><section><h2>VS Code: Configuration options</h2><p>Recommendations:</p><ul>
<li>Accept Suggestions on Commit Character (Autocomplete on other keys than <em>Enter</em>): <em>deactivate</em></li>
<li>Tab Size: <em>2</em> or <em>4</em></li>
</ul><p>Further options:</p><ul>
<li>Auto Save</li>
<li>Format on Save</li>
<li>Word Wrap</li>
<li>EOL</li>
<li>Workbench: Color Theme</li>
</ul></section><section><h2>VS Code - Commands</h2><p><em>F1</em> or <em>Ctrl</em> + <em>Shift</em> + <em>P</em>: display command palette</p><ul>
<li>searchable</li>
<li>shows shortcuts</li>
</ul><p>Example commands:</p><ul>
<li><em>Search a string in the file</em></li>
<li><em>Search: Find in Files</em></li>
<li><em>Format Document</em></li>
<li><em>Toggle line comment</em> / <em>Toggle block comment</em></li>
<li><em>Go to definition</em> / <em>Peek definition</em> (only for certain file types)</li>
<li><em>Rename symbol</em> (only for certain file types)</li>
</ul></section><section><h2>VS Code - keyboard shortcuts</h2><ul>
<li><em>Ctrl</em> + <em>F2</em>: set multiple text cursors</li>
<li><em>Alt</em> + click: set multiple text cursors</li>
</ul></section></section>
    <section><h1>Prettier</h1><section><h2>Prettier</h2><p><a href="https://prettier.io/">https://prettier.io/</a></p><ul>
<li>Code formatting according to strict rules</li>
<li>VS Code plugin (via Alt + Shift + F)</li>
</ul></section><section><h2>Prettier configuration</h2><p>in VS Code: via File - Preferences - Settings</p><p>or via <code>.prettierrc.json</code>:</p><pre><code class="language-json">{
  "bracketSpacing": false,
  "singleQuote": true,
  "trailingComma": true,
  "jsxBracketSameLine": true
}
</code></pre></section></section>
    <section><h1>ESLint</h1><section><h2>ESLint</h2><p>Linter for JavaScript (and TypeScript)</p><p>VS Code Plugin is available</p></section></section>
    <section><h1>ES2015+</h1><section><h2>Modern JavaScript</h2></section><section><h2>JavaScript standardisation</h2><p>JavaScript is standardised under the name <em>ECMAScript</em> (ES)</p></section><section><h2>JavaScript: versions</h2><ul>
<li>Supported by all Browsers: ES5 (standardised in 2009)</li>
<li>Next big version: <em>ES2015</em> (or ES6)</li>
<li>Since then: yearly updates (ES2016, ES2017, ...)</li>
</ul></section><section><h2>JavaScript: version support</h2><ul>
<li>Overview: see <a href="http://kangax.github.io/compat-table/es6/">http://kangax.github.io/compat-table/es6/</a></li>
<li>In practice: Modern JavaScript is transpiled to ES5 (via Babel, webpack)</li>
</ul></section><section><h2>Important changes in ES2015</h2></section><section><h2>Modules &#x26; imports</h2><ul>
<li>It's possible to import objects from other js-files - no more global namespace</li>
<li>Is handled by webpack in most cases</li>
</ul><pre><code class="language-js">// user.js
export class User {
  ...
}
</code></pre><pre><code class="language-js">// main.js
import { User } from 'user.js';
</code></pre></section><section><h2>Modules &#x26; imports</h2><pre><code class="language-js">// user.js
// there may be 1 default export
export default class User {
   ...
}
</code></pre><pre><code class="language-js">// main.js
import User from 'user.js';
</code></pre></section><section><h2>Imports in webpack</h2><p>Bundlers like webpack can deviate from standard JavaScript import behavior:</p><ul>
<li>the import doesn't require a file name extension like <code>.js</code></li>
<li>if the import leads to a folder webpack will look for an <code>index.js</code> file in the folder</li>
</ul></section><section><h2>let</h2><ul>
<li>New alternative to <code>var</code> - with different scoping</li>
<li>variables scope: surrounding curly braces (instead of surrounding function)</li>
</ul><pre><code class="language-js">if (true) {
  let a = 3;
}
console.log(a); // ReferenceError
</code></pre></section><section><h2>const</h2><p>Declares a variable that cannot be reassigned.
However, the named object itself may be modified.</p><pre><code class="language-js">const names = ['Alice', 'Bob', 'Claire'];
names = ['Andrew', 'Bob', 'Claire']; // invalid!
names[0] = 'Andrew'; // valid
</code></pre></section><section><h2>Destructuring assignment</h2><pre><code class="language-js">let a = 1;
let b = 2;
[a, b] = [b, a];

const [result, errors] = someComputation();
</code></pre></section><section><h2>Destructuring assignment</h2><pre><code class="language-js">const person = { name: 'John', age: 48 };

const { name, age } = person;
</code></pre></section><section><h2>Arrow functions</h2><ul>
<li>short notation for anonymous functions</li>
<li>leaves <em>this</em> unchanged (does not reassign)</li>
</ul><pre><code class="language-js">let multiply = (a, b) => {
  return a * b;
};

let multiply = (a, b) => a * b;
</code></pre></section><section><h2>Arrow functions</h2><p>if there's exactly one parameter: parentheses are optional</p><pre><code class="language-js">const square = a => a * a;
</code></pre><p>if we want to return an object directly: wrap it in parentheses</p><pre><code class="language-js">const getState = () => ({
  loggedIn: true,
  userName: 'mike',
});
</code></pre></section><section><h2>Classes</h2><p>Class syntax replaces the old constructor functions and prototypes</p></section><section><h2>Classes</h2><pre><code class="language-js">class Person {
  constructor(firstName, lastName) {
    this.firstName = firstName;
    this.lastName = lastName;
  }
  hello() {
    return `My name is ${this.firstName}`;
  }
}
</code></pre></section><section><h2>Inheritance</h2><pre><code class="language-js">class User extends Person {
  constructor(firstName, lastName, userName) {
    // calls Person.constructor
    super(firstName, lastName);
    this.userName = userName;
  }
}
</code></pre></section><section><h2>Array iteration (for ... of)</h2><p>Iterating over entries of an array:</p><pre><code class="language-js">let names = ['Anna', 'Bernhard', 'Caro'];
for (let name of names) {
  console.log(name);
}
</code></pre></section><section><h2>Spread syntax (arrays and objects)</h2><pre><code class="language-js">let squares = [1, 4, 9];
let moreSquares = [...squares, 16, 25];
// moreSquares: [1, 4, 9, 16, 25]
</code></pre><pre><code class="language-js">let person = { firstName: 'Joe', lastName: 'Doe', age: 31 };
let newPerson = { ...person, email: 'j@d.com', age: 32 };
// {firstName: 'Joe', lastName: 'Doe', email: 'j@d.com', age: 32}
</code></pre></section><section><h2>Template strings</h2><ul>
<li>new syntax for <em>creating</em> strings</li>
<li>delimited via backticks</li>
<li>enables multiline string literals and interpolation</li>
</ul><pre><code class="language-js">let name = 'Anton';
let greeting = `Hello, ${name}!
                This is ES2015!`;
</code></pre></section><section><h2>Default arguments</h2><p>Functions may now have default arguments</p><pre><code class="language-js">let join = (strings, separator='') => {
  ...
}
</code></pre></section></section>
    <section><h1>this - quirks</h1><section><h2>this - quirks</h2><p>in object methods, <code>this</code> usually refers to the current object</p><p><strong>however</strong>, keep in mind:</p><ul>
<li>each function call sets <code>this</code> (not just method calls)</li>
<li><code>this</code> will only be set correctly if the method is called via the syntax <code>object.method()</code></li>
</ul></section><section><h2>Problem: <em>this</em> in anonymous functions</h2><pre><code class="language-js">class myComponent {
  constructor() {
    // this ist set correctly here
    this.foo = true;
    setTimeout(function() {
      // this will be overwritten here (to 'window')
      console.log(this.foo);
    }, 1000);
  }
}
</code></pre></section><section><h2>Solution: <em>arrow functions</em></h2><pre><code class="language-js">class myComponent {
  constructor() {
    // this ist set correctly here
    this.foo = true;
    setTimeout(() => {
      // this will *not* be overwritten here
      console.log(this.foo);
    }, 1000);
  }
}
</code></pre></section><section><h2>Problem: method calls without method syntax</h2><pre><code class="language-js">class Foo {
  constructor() {
    this.message = 'hello';
  }
  greet() {
    console.log(this.message);
  }
}
let foo = new Foo();
foo.greet(); // works
let fg = foo.greet;
fg(); // doesn't work (this is undefined)
</code></pre></section><section><h2>Solution: arrow methods</h2><p>Available since ES2018:</p><pre><code class="language-js">class Foo {
  constructor() {
    this.message = 'hello';
  }
  greet = () => {
    console.log(this.message);
  };
}
</code></pre></section><section><h2>Solution: binding the method</h2><pre><code class="language-js">let f = new Foo();
f.greet(); // works
let fg = f.greet.bind(f);
fg(); // works as well now
</code></pre><p>Methods are usually bound in the constructor:</p><pre><code class="language-js">  constructor() {
    this.greet = this.greet.bind(this);
  }
</code></pre></section></section>
    <section><h1>State</h1><section><h2>State</h2><p>React components may have an internal <em>state</em></p><p>The state can be referenced in the template. The view will automatically update if parts of the state are changed.</p></section><section><h2>state in function components</h2><p>In function components we make use of <code>useState</code>:</p><pre><code class="language-js">import { useState } from 'react';
</code></pre></section><section><h2>state in function components</h2><p>The function <code>useState</code> may be called (repeatedly) at the beginning of the component function.</p><ul>
<li><code>useState</code> takes one parameter - the initial state value</li>
<li>on each call <code>useState</code> returns an array with two entries: the current state and a function which can be used to set the state to a different value</li>
</ul><pre><code class="language-js">const App = () => {
  const [count, setCount] = useState(0);
  const [title, setTitle] = useState('React app');

  return ...
};
</code></pre></section><section><h2>Example: counter</h2><p>We will add a button to our application. At the start this button will display the value 0. On each click the value will increment by 1.</p></section><section><h2>Example: Counter</h2><pre><code class="language-jsx">const App = () => {
  const [count, setCount] = useState(0);

  return (
    &#x3C;button
      onClick={() => {
        setCount(count + 1);
      }}>
      {count}
    &#x3C;/button>
  );
};
</code></pre></section><section><h2>Example: Counter</h2><p>Task: Add a <em>reset</em> button to the application</p></section><section><h2>Example: Slideshow</h2><p>implement a slideshow that shows images like the following:</p><p><code>https://picsum.photos/200?image=10</code></p><ul>
<li>buttons for <em>previous</em> and <em>next</em></li>
<li>button for <em>back to start</em></li>
<li>prevent the index becoming negative</li>
</ul></section><section><h2>State in class components</h2><p>In class components, <code>this.state</code> represents the state.</p><p><code>this.state</code> is always a JavaScript object which can have varois entries (properties)</p><p>State changes happen via <code>this.setState()</code></p></section><section><h2>structure of this.state</h2><p><em>this.state</em> is always an object:</p><pre><code class="language-js">constructor() {
  [...]
  this.state = {
    loggedIn: true,
    todos: ['laundry', 'groceries', 'taxes'],
  }
}
</code></pre></section><section><h2>modifying this.state</h2><p>only via <code>setState()</code>:</p><pre><code class="language-js">this.setState({ loggedIn: false });
</code></pre><p><code>setState</code> will change all specified entries</p></section><section><h2>Repeated calls to this.setState</h2><p>Advice: In an event handler <code>setState</code> should only be called once.</p><p>If you do want to call <code>setState</code> multiple times and one call depends on the modifications of the previous call:</p><pre><code class="language-js">this.setState(oldState => ({ count: oldState.count + 1 }));
this.setState(oldState => ({ count: oldState.count + 1 }));
</code></pre><p>Pass a function to <code>setState</code>. This function will transform the old state into the new state.</p></section></section>
    <section><h1>Inputs</h1><section><h2>Inputs</h2><p>In the context of React, input elements are special:</p><p>Their properties (especially <code>.value</code>) can be directly modified by the user</p><p>Therefore there are aspects of the UI state which would not be captured in the state.</p></section><section><h2>Inputs</h2><p>This is how we can capture changes and track them in the state:</p><pre><code class="language-jsx">&#x3C;input
  value={inputText}
  onChange={event => {
    setInputText(event.target.value);
  }}
/>
</code></pre></section></section>
    <section><h1>Developer tools for React</h1><section><h2>React Developer Tools</h2><ul>
<li><a href="https://chrome.google.com/webstore/detail/react-developer-tools/fmkadmapgofadopljbjfkapdkoienihi">Chrome Plugin</a></li>
<li><a href="https://addons.mozilla.org/de/firefox/addon/react-devtools/">Firefox Plugin</a></li>
</ul><p>Features:</p><ul>
<li>display component structure</li>
<li>show state and props</li>
<li>change state</li>
<li>analyse render performance of components</li>
</ul></section><section><h2>Debugging in VS Code</h2><p>Extensions:</p><ul>
<li><strong>Debugger for Chrome</strong></li>
<li>Debugger for Firefox</li>
</ul></section><section><h2>Debugging in VS Code: configuration</h2><p>creating config file: in the debugger sidebar, click on the gear symbol (<em>Configure or fix 'launch.json'</em>)</p><p>in <em>launch.json</em>:</p><pre><code class="language-json">{
  "type": "chrome",
  "request": "launch",
  "name": "Launch Chrome for React",
  "url": "http://localhost:3000"
}
</code></pre></section><section><h2>Debugging in VS Code: starting</h2><p>The development server has to be running in the background</p><p>Start debugging in VS Code via <em>F5</em></p></section></section>
    <section><h1>map, filter, reduce</h1><section><h3>Array methods for functional programming</h3></section><section><h2>map</h2><ul>
<li>modifies each entry in an array via a function</li>
<li>returns a new array</li>
</ul><pre><code class="language-js">let myNumbers = [2, 10, 23];

let triple = n => 3 * n;

let newNumbers = myNumbers.map(triple);
// [6, 30, 69]
</code></pre></section><section><h2>filter</h2><ul>
<li>only keeps specific entries in an array</li>
<li>uses a function to check entries for a specific criterion</li>
<li>returns a new array</li>
</ul><pre><code class="language-js">let myNumbers = [2, 10, 23];

let isEven = n => n % 2 === 0;

let newNumbers = myNumbers.filter(isEven);
// [2, 10]
</code></pre></section><section><h2>reduce</h2><ul>
<li>computes one value based on a start value and all entries in an array</li>
<li>uses a function that computes a resulting value from two given values - this function will be called repeatedly</li>
</ul></section><section><h2>reduce - example</h2><pre><code class="language-js">let transactions = [
  { amount: -56, title: 'groceries' },
  { amount: +1020, title: 'salary' },
  { amount: -13, title: 'dinner' },
  { amount: -96, title: 'electricity' },
];
let initialBalance = 317;

let reducer = (aggregator, transaction) =>
  aggregator + transaction.amount;

let currentBalance = transactions.reduce(
  reducer,
  initialBalance
);

// 317 -> 261 -> 1281 -> 1268 -> 1172
</code></pre></section></section>
    <section><h1>JSX in detail</h1><section><h2>JSX: repeating elements</h2><p>Multiple Elements may be added via arrays:</p><pre><code class="language-xml">&#x3C;ul>
  { [
    &#x3C;li>1&#x3C;/li>,
    &#x3C;li>2&#x3C;/li>
  ] }
&#x3C;/ul>
</code></pre></section><section><h2>JSX: repeating elements</h2><p>In practice this is mostly done via <code>.map()</code>:</p><pre><code class="language-jsx">const todos = [
  { id: 1, title: 'groceries', completed: false },
  { id: 2, title: 'cooking', completed: true },
  { id: 3, title: 'gardening', completed: false },
];

&#x3C;ul>
  {todos.map(todo => (
    &#x3C;li>{todo.title}&#x3C;/li>
  ))}
&#x3C;/ul>
</code></pre></section><section><h2>JSX: repeating elements</h2><p>With the above code:<br />
warning in the browser console (concerning efficiency)<br />
solution: <strong>key</strong>:</p><pre><code class="language-jsx">&#x3C;ul>
  {todos.map(todo => (
    &#x3C;li key={todo.id}>{todo.title}&#x3C;/li>
  ))}
&#x3C;/ul>
</code></pre></section><section><h2>JSX: if / else</h2><pre><code class="language-jsx">&#x3C;div>{Math.random() > 0.5 ? 'heads' : 'tails'}&#x3C;/div>
</code></pre></section><section><h2>JSX: if / else</h2><pre><code class="language-jsx">let face;
if (Math.random() > 0.5) {
  face = 'heads';
} else {
  face = 'tails';
}

return &#x3C;div>{face}&#x3C;/div>;
</code></pre></section><section><h2>JSX: if</h2><pre><code class="language-jsx">&#x3C;div>{state.hasError &#x26;&#x26; state.errorMessage}&#x3C;/div>
</code></pre></section><section><h2>Whitespace</h2><p>In HTML the following examples are equivalent (displaying a single space between the images):</p><pre><code class="language-html">&#x3C;img src="foo.png"> &#x3C;img src="bar.png">
</code></pre><pre><code class="language-html">&#x3C;img src="foo.png">    &#x3C;img src="bar.png">
</code></pre><pre><code class="language-html">&#x3C;img src="foo.png">
&#x3C;img src="bar.png">
</code></pre></section><section><h2>Whitespace</h2><p>rules in JSX:</p><ul>
<li>whitespace between two elements in one line is interpreted as a single space</li>
<li>whitespace between two elements on different lines is ignored</li>
</ul><p>Single space:</p><pre><code class="language-xml">&#x3C;img src="foo.png" />     &#x3C;img src="bar.png" />
</code></pre><p>no space:</p><pre><code class="language-xml">&#x3C;img src="foo.png" />
&#x3C;img src="bar.png" />
</code></pre></section><section><h2>Whitespace</h2><p>"force" a space in JSX:</p><pre><code class="language-xml">&#x3C;img src="foo.png" />{" "}
&#x3C;img src="bar.png" />
</code></pre></section><section><h2>Comments</h2><p>Comments can be written as JavaScript comments:</p><pre><code class="language-jsx">a = &#x3C;div>Hello World!{/*this is a comment*/}&#x3C;/div>;
</code></pre></section><section><h2>Fragments</h2><p>Fragments enable returning multiple elements from a component / function:</p><pre><code class="language-jsx">return (
  &#x3C;>
    &#x3C;td>Hello&#x3C;/td>
    &#x3C;td>World&#x3C;/td>
  &#x3C;/>
);
</code></pre></section><section><h2>JSX compilation</h2><pre><code class="language-jsx">const element = &#x3C;a href="https://google.com">Google&#x3C;/a>;
</code></pre><p>compiles to:</p><pre><code class="language-js">const element = React.createElement(
  'a',
  { href: 'https://google.com' },
  'Google'
);
</code></pre></section></section>
    <section><h1>Styling in JSX</h1><section><h2>JSX: CSS classes</h2><pre><code class="language-jsx">&#x3C;div className={getClassName()}>[...]&#x3C;/div>
</code></pre></section><section><h2>CSS modules</h2><p>When using create-react-app CSS modules are preconfigured. They allow using CSS class names that are guaranteed to be unique across CSS files.</p><pre><code class="language-js">import styles from './TodoItem.module.css';

&#x3C;div className={styles.todoItem}>...&#x3C;/div>;

&#x3C;div className={`${styles.todoItem} ${styles.completed}`}>
  ...
&#x3C;/div>;
</code></pre></section><section><h2>using SCSS</h2><pre><code class="language-bash">npm install node-sass
</code></pre><pre><code class="language-js">import styles from './TodoItem.module.scss';
</code></pre><pre><code class="language-scss">/* TodoItem.module.scss */
@import '../colors';
...
</code></pre><pre><code class="language-scss">/* colors.scss */
$primary: lightblue;
</code></pre></section><section><h2>JSX: dynamic styles</h2><pre><code class="language-jsx">&#x3C;div
  style={{
    color: '#333',
    fontSize: getFontSize(),
  }}
/>
</code></pre></section></section>
    <section><h1>Props</h1><section><h2>State &#x26; props</h2><ul>
<li>state = internal to the component</li>
<li>props = parameters that are passed down from the parent</li>
</ul></section><section><h2>Props in custom components</h2><p>Example:</p><pre><code class="language-jsx">&#x3C;Rating stars={3} />
</code></pre></section><section><h2>Props in function components</h2><p>example (simple):</p><pre><code class="language-jsx">const Rating = props => (
  &#x3C;div className="rating">{'*'.repeat(props.stars)}&#x3C;/div>
);
</code></pre><p>or</p><pre><code class="language-jsx">const Rating = ({ stars }) => (
  &#x3C;div className="rating">{'*'.repeat(stars)}&#x3C;/div>
);
</code></pre></section><section><h2>Props in class components</h2><p>example:</p><pre><code class="language-jsx">import React, { Component } from 'react';

export class Rating extends Component {
  render() {
    return (
      &#x3C;div className="rating">
        {'*'.repeat(this.props.stars)}
      &#x3C;/div>
    );
  }
}
</code></pre></section><section><h2>props.children</h2><p>A component may receive content to be displayed via <code>props.children</code></p><p>Example: a <code>Bordered</code> component:</p><pre><code class="language-jsx">&#x3C;Bordered>lorem ipsum&#x3C;/Bordered>
</code></pre><p>Defining the component:</p><pre><code class="language-jsx">const Bordered = props => (
  &#x3C;div class="bordered">{props.children}&#x3C;/div>
);
</code></pre></section></section>
    <section><h1>Custom events</h1><section><h2>Data/event flow</h2><ul>
<li>parent → child: props</li>
<li>child → parent: events</li>
</ul></section><section><h2>Custom events</h2><p>Event handlers are defined as functions and passed down via props.</p></section><section><h2>Custom events</h2><p>Example <code>ToggleButton</code>: Button which displays either "off" or "on":</p><p>Prop: <code>active</code> - may be set to <code>true</code> or <code>false</code><br />
Event: <code>onToggle</code> - function which is called with the new state</p><pre><code class="language-jsx">&#x3C;button
  onClick={() => {
    props.onToggle(!props.active);
  }}>
  {props.active ? 'on' : 'off'}
&#x3C;/button>
</code></pre></section><section><h2>Custom events</h2><p>The <code>ToggleButton</code> can be included like this:</p><pre><code class="language-jsx">const [myOption, setMyOption] = useState(true);

&#x3C;ToggleButton
  active={myOption}
  onToggle={newIsActive => {
    setMyOption(newIsActive);
  }}
/>;
</code></pre></section><section><h2>Custom events</h2><p>examples:</p><ul>
<li>Rating component with clickable stars</li>
<li>NumberInput component that lets the user specify an integer with + and - buttons<ul>
<li>bonus: make the API compatible with that of ordinary input elements so input elements may be easily replaced by NumberInput-components</li>
<li>bonus: add a min / max property that can be specified</li>
</ul></li>
</ul></section></section>
    <section><h1>Component libraries</h1><section><h2>Component libraries</h2><ul>
<li>Material UI: React components in material design</li>
<li>React Native &#x26; React Native Web: React components &#x26; framework for mobile &#x26; web apps</li>
<li>React Bootstrap</li>
<li>Blueprint</li>
<li>...</li>
</ul></section><section><h2>Material-UI</h2><p>Predefined React components conforming to material design style (style of Google/Android)</p></section><section><h2>Material-UI: installation and usage</h2><p><a href="https://material-ui.com">https://material-ui.com</a></p><p>see info boxes on <em>Installation</em> und <em>Usage</em></p></section><section><h2>Material-UI: exercises</h2><ul>
<li>Button</li>
<li>Todo-App in Material Style</li>
</ul></section></section>
    <section><h1>Exercises</h1><section><h2>Exercises</h2><p>List of React components: <a href="https://github.com/brillout/awesome-react-components">awesome-react-components</a></p><p>Task: "recreate" one of the components</p><p>examples:</p><ul>
<li>bar chart</li>
<li>color picker</li>
<li>table / data grid</li>
<li>tabs</li>
</ul></section></section>
    <section><h1>Type checkers for React</h1><section><h2>Type checkers for React</h2><p>Declaring types can be useful, especially when it comes to component props and events</p><p>possibilities:</p><ul>
<li>library <code>prop-types</code></li>
<li>using <code>TypeScript</code> as a language</li>
</ul></section><section><h2>prop-types</h2><p>example:</p><pre><code class="language-js">import PropTypes from 'prop-types';

// definition of Rating component here

Rating.propTypes = {
  stars: PropTypes.number.isRequired,
  onStarsChange: PropTypes.func,
};
</code></pre></section><section><h2>prop-types in VS Code</h2><p>Plugin: <em>React PropTypes IntelliSense</em></p></section><section><h2>React with TypeScript</h2><p>new Project:</p><pre><code class="language-bash">npx create-react-app my-app --typescript
</code></pre></section><section><h2>Components with TypeScript (functions)</h2><pre><code class="language-tsx">type TodoListProps = {
  todos: Array&#x3C;TodoType>;
  onToggle: (id: number) => void;
  onDelete: (id: number) => void;
};

const TodoList = (props: TodoListProps) => {
  const [filterText, setFilterText] = useState&#x3C;string>('');

  return &#x3C;div>...&#x3C;/div>;
};
</code></pre></section><section><h2>Components with TypeScript (Classes)</h2><pre><code class="language-tsx">// TodoList.tsx
type TodoItemProps = {
  todo: TodoType;
  onToggle: (id: int) => void;
};
type TodoItemState = {};
</code></pre><pre><code class="language-tsx">class TodoItem extends React.PureComponent&#x3C;
  TodoItemProps,
  TodoItemState
> {}
</code></pre></section><section><h2>Event types</h2><ul>
<li><code>React.FormEvent</code></li>
<li><code>React.FormEvent&#x3C;HTMLFormElement></code></li>
<li><code>React.ChangeEvent&#x3C;HTMLInputElement></code></li>
<li><code>React.MouseEvent&#x3C;HTMLDivElement></code></li>
</ul></section></section>
    <section><h1>TypeScript</h1><section><h2>TypeScript</h2><p>= superset of JavaScript with extensions:</p><ul>
<li><strong>static typing</strong></li>
<li>public / private properties</li>
<li>decorators</li>
</ul></section><section><h2>Static typing</h2><p>data types may be specified in order to support the development environment:</p><ul>
<li>auto completion</li>
<li>errors when types mismatch</li>
</ul></section><section><h2>Static typing</h2><p>when building: TypeScript is translated to JavaScript, all type information is discarded</p></section><section><h2>Type system: variables</h2><pre><code class="language-ts">let age: number = 32;
let name: string = 'Andreas';
</code></pre></section><section><h2>Type system: arrays</h2><pre><code class="language-js">let names: Array&#x3C;string> = ['Anna', 'Bernhard'];
</code></pre><p>alternative syntax:</p><pre><code class="language-ts">let names: string[] = ['Anna', 'Bernhard'];
</code></pre></section><section><h2>Type system: functions</h2><pre><code class="language-ts">function repeatString(
  text: string,
  times: number
): string {
  return ...
}
</code></pre><pre><code class="language-ts">const repeatString = (
  text: string,
  times: number
): string => {
  return ...
};
</code></pre></section><section><h2>Type system: void</h2><p>Void: can either be <em>undefined</em> or <em>null</em> - is mostly used with functions that don't return anything</p><pre><code class="language-ts">function warnUser(): void {
  alert('warning!');
}
</code></pre></section><section><h2>Type system: any</h2><p>Any: variable can be of any type - disables the typechecker for this variable</p><pre><code class="language-ts">let myInput: any = document.getElementById('myinput');
console.log(myInput.value);
</code></pre></section><section><h2>Type system: type assertions</h2><pre><code class="language-ts">(window as any).myGlobalVariable = 'foo';
</code></pre></section><section><h2>Type system: types &#x26; interfaces</h2><p>Interfaces describe the structure of an object / of a class in detail<br />
e.g.: <code>TodoInterface</code>, <code>PersonInterface</code></p><p>Types are similar to interfaces, but are also applicable to strings, arrays, ...</p><p>Essentialy types offer more functionality than interfaces</p><p><a href="https://stackoverflow.com/a/52682220/">https://stackoverflow.com/a/52682220/</a></p></section><section><h2>Type system: types</h2><pre><code class="language-ts">type TodoType = {
  id: number;
  title: string;
  completed: boolean;
};

type TodoCollection = Array&#x3C;TodoType>;
</code></pre></section><section><h2>Types and objects</h2><pre><code class="language-ts">type TodoType = {
  id: number;
  title: string;
  completed: boolean;
  // optional
  description?: string;
  // method
  toggle: (id: number) => void;
};
</code></pre></section><section><h2>Types and objects</h2><pre><code class="language-ts">class AdvancedTodo implements TodoType {
  ...
}
</code></pre></section><section><h2>Intersection Types</h2><p>Via <code>&#x26;</code>:</p><pre><code class="language-ts">type x = a &#x26; b;
</code></pre><p>With regards to <code>a</code> the intersection type <code>x</code> may:</p><ul>
<li>restrict the values of existing properties</li>
<li>add additional required properties</li>
</ul></section><section><h2>Intersection Types: Restricting values</h2><pre><code class="language-ts">type ActionType = {
  type: string;
  payload?: object;
};

type AddTodoActionType = ActionType &#x26; {
  type: 'ADD_TODO';
  payload: {
    title: string;
  };
};
</code></pre></section><section><h2>Intersection Types: Combining Types</h2><pre><code class="language-ts">type Serializable = {
  serialize: () => string;
};

type SerializableAction = Action &#x26; Serializable;
</code></pre><p>Objects that implement the Type <code>SerializableAction</code> must implement all entries from both <code>Serializable</code> and <code>Action</code>.</p></section><section><h2>Union Types</h2><p>The type <code>x</code> must either fulfil all criteria of <code>a</code> or all criteria of <code>b</code>.</p><pre><code class="language-ts">type x = a | b;
</code></pre><p>Alternative notation across multiple lines:</p><pre><code class="language-ts">type TodoActionType =
  | AddTodoActionType
  | ToggleTodoActionType;
</code></pre></section><section><h2>Generics</h2><p>Generic type declarations that can receive more specific type information when applied (via <code>&#x3C;...></code>)</p></section><section><h2>Generics</h2><p>example: <code>Array</code> is a generic</p><pre><code class="language-ts">let a: Array&#x3C;number> = [1, 2, 3];
let b: Array&#x3C;string> = ['one', 'two', 'three'];
</code></pre><p>example: React's <code>Component</code> is a generic</p><pre><code class="language-ts">class MyComp extends Component&#x3C;MyProps, MyState> {
  ...
}
</code></pre></section><section><h2>Private &#x26; public properties</h2><pre><code class="language-ts">class Clock {
  private formatTime(time) {
    return ...
  }
  public start() {
    ...
  }
}
</code></pre></section><section><h2>Type declarations for libraries</h2><p>Several JavaScript Libraries come with type declarations for TypeScript - e.g. <em>react</em>, <em>redux</em>.</p><p>For other libraries there are usually external declaration packages that are prefixed with <em>@types/</em>; e.g. for <em>react-redux</em> there's the package <em>@types/react-redux</em>.</p></section></section>
  

