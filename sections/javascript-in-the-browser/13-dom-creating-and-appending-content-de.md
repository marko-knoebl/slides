# DOM: Creating and appending content

## DOM: Creating and appending content

- `document.createElement()`
- `element1.append(...)`
- `element.remove()`
- `element.innerHTML`

## Creating and appending content

Example: creating a paragraph with a link

```html
<p>
  I'm learning <a href="https://example.com">JavaScript</a>.
</p>
```

```js
let p = document.createElement('p');

let link = document.createElement('a');
link.href = 'https://example.com';
link.innerText = 'JavaScript';

p.append("I'm learning ", link, ".");
```

the new element (`p`) can be appended to an existing element (e.g. the document body)

## Creating and appending content

previous example with `innerHTML`:

```js
let p = document.createElement('p');
p.innerHTML =
  'I\'m learning <a href="https://example.com">JavaScript</a>.';
```

## Creating and appending content

Why not always use `innerHTML`?

- can be subject to attacks (malicious code injection / XSS)
- event listeners cannot be added

## Dangers of using innerHTML

Using `innerHTML` is dangerous when content can be generated by users.

example: a malicious user has registered to our website with these data:

- first name: `John`
- last name: `Doe`
- nickname: `<script>prompt("Enter your credit card number:")</script>`

If we use `innerHTML` to display the nickname to other users, the script will be executed in their browsers.

Note: using `innerText` is not dangerous.

## Dangers of using innerHTML

ways to prevent malicious code injection attacks:

avoid `innerHTML`

or

"escape" user-submitted content

## Dangers of using innerHTML

"escaping" content:

user-submitted string: `<script>...</script>`

escaped string with HTML entities: `&lt;script&gt;...&lt;/script&gt;`

## Exercises

- create a chess board
- display a static todo list
